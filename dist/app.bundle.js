
(()=>{var t,e,n={602:(t,e,n)=>{"use strict";n.d(e,{P2:()=>p});const r=(t,e)=>e.some((e=>t instanceof e));let o,a;const i=new WeakMap,s=new WeakMap,c=new WeakMap;let u={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return i.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function l(t){u=t(u)}function h(t){return"function"==typeof t?(e=t,(a||(a=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(f(this),t),d(this.request)}:function(...t){return d(e.apply(f(this),t))}):(t instanceof IDBTransaction&&function(t){if(i.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{e(),r()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)}));i.set(t,e)}(t),r(t,o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,u):t);var e}function d(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{e(d(t.result)),r()},a=()=>{n(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",a)}));return c.set(e,t),e}(t);if(s.has(t))return s.get(t);const e=h(t);return e!==t&&(s.set(t,e),c.set(e,t)),e}const f=t=>c.get(t);function p(t,e,{blocked:n,upgrade:r,blocking:o,terminated:a}={}){const i=indexedDB.open(t,e),s=d(i);return r&&i.addEventListener("upgradeneeded",(t=>{r(d(i.result),t.oldVersion,t.newVersion,d(i.transaction),t)})),n&&i.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),s.then((t=>{a&&t.addEventListener("close",(()=>a())),o&&t.addEventListener("versionchange",(t=>o(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),s}const m=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],g=new Map;function y(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(g.get(e))return g.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!m.includes(n))return;const a=async function(t,...e){const a=this.transaction(t,o?"readwrite":"readonly");let i=a.store;return r&&(i=i.index(e.shift())),(await Promise.all([i[n](...e),o&&a.done]))[0]};return g.set(e,a),a}l((t=>({...t,get:(e,n,r)=>y(e,n)||t.get(e,n,r),has:(e,n)=>!!y(e,n)||t.has(e,n)})));const w=["continue","continuePrimaryKey","advance"],b={},E=new WeakMap,k=new WeakMap,x={get(t,e){if(!w.includes(e))return t[e];let n=b[e];return n||(n=b[e]=function(...t){E.set(this,k.get(this)[e](...t))}),n}};async function*S(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;const n=new Proxy(e,x);for(k.set(n,e),c.set(n,f(e));e;)yield n,e=await(E.get(n)||e.continue()),E.delete(n)}function P(t,e){return e===Symbol.asyncIterator&&r(t,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===e&&r(t,[IDBIndex,IDBObjectStore])}l((t=>({...t,get:(e,n,r)=>P(e,n)?S:t.get(e,n,r),has:(e,n)=>P(e,n)||t.has(e,n)})))},652:(t,e,n)=>{"use strict";n.d(e,{D0:()=>f,X1:()=>h});var r=n(602);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(){a=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function h(e,n,r,o){var a=n&&n.prototype instanceof p?n:p,i=Object.create(a.prototype);return l(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=x(s,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=d(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new j(o||[])),!0),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var f={};function p(){}function m(){}function v(){}var g={};l(g,s,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(T([])));w&&w!==n&&r.call(w,s)&&(g=w);var b=v.prototype=p.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(a,i,s,c){var u=d(t[a],t,i);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==o(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;l(this,"_invoke",(function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}),!0)}function x(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=d(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function S(t){this.tryEntries.push(t)}function P(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function j(t){this.tryEntries=[[-1]],t.forEach(S,this),this.reset(!0)}function T(e){if(null!=e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(o(e)+" is not iterable")}return m.prototype=v,l(b,"constructor",v),l(v,"constructor",m),l(v,u,m.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(h(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(b),l(b,u,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:T(e),r:n,n:r},"next"===this.method&&(this.arg=t),f}},e}function i(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))}}var c="setupData";function u(){return l.apply(this,arguments)}function l(){return(l=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,r.P2)("agriEduDB",1,{upgrade:function(t){t.objectStoreNames.contains(c)||t.createObjectStore(c,{keyPath:"id",autoIncrement:!0}).createIndex("name","name",{unique:!1})}}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return d.apply(this,arguments)}function d(){return(d=s(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:return n=t.sent,t.abrupt("return",n.put(c,e));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(){return p.apply(this,arguments)}function p(){return(p=s(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:return e=t.sent,t.abrupt("return",e.getAll(c));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},8465:function(t){t.exports=function(){"use strict";function t(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function e(e,n){return e.get(t(e,n))}function n(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}const r={},o=t=>new Promise((e=>{if(!t)return e();const n=window.scrollX,o=window.scrollY;r.restoreFocusTimeout=setTimeout((()=>{r.previousActiveElement instanceof HTMLElement?(r.previousActiveElement.focus(),r.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),window.scrollTo(n,o)})),a="swal2-",i=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce(((t,e)=>(t[e]=a+e,t)),{}),s=["success","warning","info","question","error"].reduce(((t,e)=>(t[e]=a+e,t)),{}),c="SweetAlert2:",u=t=>t.charAt(0).toUpperCase()+t.slice(1),l=t=>{console.warn(`${c} ${"object"==typeof t?t.join(" "):t}`)},h=t=>{console.error(`${c} ${t}`)},d=[],f=(t,e=null)=>{var n;n=`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`,d.includes(n)||(d.push(n),l(n))},p=t=>"function"==typeof t?t():t,m=t=>t&&"function"==typeof t.toPromise,v=t=>m(t)?t.toPromise():Promise.resolve(t),g=t=>t&&Promise.resolve(t)===t,y=()=>document.body.querySelector(`.${i.container}`),w=t=>{const e=y();return e?e.querySelector(t):null},b=t=>w(`.${t}`),E=()=>b(i.popup),k=()=>b(i.icon),x=()=>b(i.title),S=()=>b(i["html-container"]),P=()=>b(i.image),j=()=>b(i["progress-steps"]),T=()=>b(i["validation-message"]),O=()=>w(`.${i.actions} .${i.confirm}`),A=()=>w(`.${i.actions} .${i.cancel}`),_=()=>w(`.${i.actions} .${i.deny}`),C=()=>w(`.${i.loader}`),I=()=>b(i.actions),L=()=>b(i.footer),B=()=>b(i["timer-progress-bar"]),N=()=>b(i.close),F=()=>{const t=E();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort(((t,e)=>{const n=parseInt(t.getAttribute("tabindex")||"0"),r=parseInt(e.getAttribute("tabindex")||"0");return n>r?1:n<r?-1:0})),r=t.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),o=Array.from(r).filter((t=>"-1"!==t.getAttribute("tabindex")));return[...new Set(n.concat(o))].filter((t=>tt(t)))},G=()=>U(document.body,i.shown)&&!U(document.body,i["toast-shown"])&&!U(document.body,i["no-backdrop"]),D=()=>{const t=E();return!!t&&U(t,i.toast)},M=(t,e)=>{if(t.textContent="",e){const n=(new DOMParser).parseFromString(e,"text/html"),r=n.querySelector("head");r&&Array.from(r.childNodes).forEach((e=>{t.appendChild(e)}));const o=n.querySelector("body");o&&Array.from(o.childNodes).forEach((e=>{e instanceof HTMLVideoElement||e instanceof HTMLAudioElement?t.appendChild(e.cloneNode(!0)):t.appendChild(e)}))}},U=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let e=0;e<n.length;e++)if(!t.classList.contains(n[e]))return!1;return!0},R=(t,e,n)=>{if(((t,e)=>{Array.from(t.classList).forEach((n=>{Object.values(i).includes(n)||Object.values(s).includes(n)||Object.values(e.showClass||{}).includes(n)||t.classList.remove(n)}))})(t,e),!e.customClass)return;const r=e.customClass[n];r&&("string"==typeof r||r.forEach?z(t,r):l(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`))},q=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${i.popup} > .${i[e]}`);case"checkbox":return t.querySelector(`.${i.popup} > .${i.checkbox} input`);case"radio":return t.querySelector(`.${i.popup} > .${i.radio} input:checked`)||t.querySelector(`.${i.popup} > .${i.radio} input:first-child`);case"range":return t.querySelector(`.${i.popup} > .${i.range} input`);default:return t.querySelector(`.${i.popup} > .${i.input}`)}},H=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},$=(t,e,n)=>{t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach((e=>{Array.isArray(t)?t.forEach((t=>{n?t.classList.add(e):t.classList.remove(e)})):n?t.classList.add(e):t.classList.remove(e)})))},z=(t,e)=>{$(t,e,!0)},K=(t,e)=>{$(t,e,!1)},V=(t,e)=>{const n=Array.from(t.children);for(let t=0;t<n.length;t++){const r=n[t];if(r instanceof HTMLElement&&U(r,e))return r}},Y=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||0===parseInt(n)?t.style.setProperty(e,"number"==typeof n?`${n}px`:n):t.style.removeProperty(e)},W=(t,e="flex")=>{t&&(t.style.display=e)},J=t=>{t&&(t.style.display="none")},X=(t,e="block")=>{t&&new MutationObserver((()=>{Q(t,t.innerHTML,e)})).observe(t,{childList:!0,subtree:!0})},Z=(t,e,n,r)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,r)},Q=(t,e,n="flex")=>{e?W(t,n):J(t)},tt=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),et=t=>!!(t.scrollHeight>t.clientHeight),nt=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},rt=(t,e=!1)=>{const n=B();n&&tt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout((()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"}),10))},ot=`\n <div aria-labelledby="${i.title}" aria-describedby="${i["html-container"]}" class="${i.popup}" tabindex="-1">\n   <button type="button" class="${i.close}"></button>\n   <ul class="${i["progress-steps"]}"></ul>\n   <div class="${i.icon}"></div>\n   <img class="${i.image}" />\n   <h2 class="${i.title}" id="${i.title}"></h2>\n   <div class="${i["html-container"]}" id="${i["html-container"]}"></div>\n   <input class="${i.input}" id="${i.input}" />\n   <input type="file" class="${i.file}" />\n   <div class="${i.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${i.select}" id="${i.select}"></select>\n   <div class="${i.radio}"></div>\n   <label class="${i.checkbox}">\n     <input type="checkbox" id="${i.checkbox}" />\n     <span class="${i.label}"></span>\n   </label>\n   <textarea class="${i.textarea}" id="${i.textarea}"></textarea>\n   <div class="${i["validation-message"]}" id="${i["validation-message"]}"></div>\n   <div class="${i.actions}">\n     <div class="${i.loader}"></div>\n     <button type="button" class="${i.confirm}"></button>\n     <button type="button" class="${i.deny}"></button>\n     <button type="button" class="${i.cancel}"></button>\n   </div>\n   <div class="${i.footer}"></div>\n   <div class="${i["timer-progress-bar-container"]}">\n     <div class="${i["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),at=()=>{r.currentInstance.resetValidationMessage()},it=t=>{const e=(()=>{const t=y();return!!t&&(t.remove(),K([document.documentElement,document.body],[i["no-backdrop"],i["toast-shown"],i["has-column"]]),!0)})();if("undefined"==typeof window||"undefined"==typeof document)return void h("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=i.container,e&&z(n,i["no-transition"]),M(n,ot),n.dataset.swal2Theme=t.theme;const r="string"==typeof(o=t.target)?document.querySelector(o):o;var o;r.appendChild(n),t.topLayer&&(n.setAttribute("popover",""),n.showPopover()),(t=>{const e=E();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")})(t),(t=>{"rtl"===window.getComputedStyle(t).direction&&z(y(),i.rtl)})(r),(()=>{const t=E(),e=V(t,i.input),n=V(t,i.file),r=t.querySelector(`.${i.range} input`),o=t.querySelector(`.${i.range} output`),a=V(t,i.select),s=t.querySelector(`.${i.checkbox} input`),c=V(t,i.textarea);e.oninput=at,n.onchange=at,a.onchange=at,s.onchange=at,c.oninput=at,r.oninput=()=>{at(),o.value=r.value},r.onchange=()=>{at(),o.value=r.value}})()},st=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?ct(t,e):t&&M(e,t)},ct=(t,e)=>{t.jquery?ut(e,t):M(e,t.toString())},ut=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},lt=(t,e)=>{const n=I(),r=C();n&&r&&(e.showConfirmButton||e.showDenyButton||e.showCancelButton?W(n):J(n),R(n,e,"actions"),function(t,e,n){const r=O(),o=_(),a=A();r&&o&&a&&(dt(r,"confirm",n),dt(o,"deny",n),dt(a,"cancel",n),function(t,e,n,r){r.buttonsStyling?(z([t,e,n],i.styled),r.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",r.confirmButtonColor),r.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",r.denyButtonColor),r.cancelButtonColor&&n.style.setProperty("--swal2-cancel-button-background-color",r.cancelButtonColor),ht(t),ht(e),ht(n)):K([t,e,n],i.styled)}(r,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,r),t.insertBefore(o,r)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(r,e))))}(n,r,e),M(r,e.loaderHtml||""),R(r,e,"loader"))};function ht(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const n=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${n}`))}function dt(t,e,n){const r=u(e);Q(t,n[`show${r}Button`],"inline-block"),M(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=i[e],R(t,n,`${e}Button`)}const ft=(t,e)=>{const n=y();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||z([document.documentElement,document.body],i["no-backdrop"])}(n,e.backdrop),function(t,e){e&&(e in i?z(t,i[e]):(l('The "position" parameter is not valid, defaulting to "center"'),z(t,i.center)))}(n,e.position),function(t,e){e&&z(t,i[`grow-${e}`])}(n,e.grow),R(n,e,"container"))};var pt={innerParams:new WeakMap,domCache:new WeakMap};const mt=["input","file","range","select","radio","checkbox","textarea"],vt=t=>{if(!t.input)return;if(!xt[t.input])return void h(`Unexpected type of input! Expected ${Object.keys(xt).join(" | ")}, got "${t.input}"`);const e=Et(t.input);if(!e)return;const n=xt[t.input](e,t);W(e),t.inputAutoFocus&&setTimeout((()=>{H(n)}))},gt=(t,e)=>{const n=E();if(!n)return;const r=q(n,t);if(r){(t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}})(r);for(const t in e)r.setAttribute(t,e[t])}},yt=t=>{if(!t.input)return;const e=Et(t.input);e&&R(e,t,"input")},wt=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},bt=(t,e,n)=>{if(n.inputLabel){const r=document.createElement("label"),o=i["input-label"];r.setAttribute("for",t.id),r.className=o,"object"==typeof n.customClass&&z(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},Et=t=>{const e=E();if(e)return V(e,i[t]||i.input)},kt=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:g(e)||l(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},xt={};xt.text=xt.email=xt.password=xt.number=xt.tel=xt.url=xt.search=xt.date=xt["datetime-local"]=xt.time=xt.week=xt.month=(t,e)=>(kt(t,e.inputValue),bt(t,t,e),wt(t,e),t.type=e.input,t),xt.file=(t,e)=>(bt(t,t,e),wt(t,e),t),xt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return kt(n,e.inputValue),n.type=e.input,kt(r,e.inputValue),bt(n,t,e),t},xt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");M(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return bt(t,t,e),t},xt.radio=t=>(t.textContent="",t),xt.checkbox=(t,e)=>{const n=q(E(),"checkbox");n.value="1",n.checked=Boolean(e.inputValue);const r=t.querySelector("span");return M(r,e.inputPlaceholder||e.inputLabel),n},xt.textarea=(t,e)=>{kt(t,e.inputValue),wt(t,e),bt(t,t,e);return setTimeout((()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(E()).width);new MutationObserver((()=>{if(!document.body.contains(t))return;const r=t.offsetWidth+(o=t,parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight));var o;r>n?E().style.width=`${r}px`:Y(E(),"width",e.width)})).observe(t,{attributes:!0,attributeFilter:["style"]})}})),t};const St=(t,e)=>{const n=S();n&&(X(n),R(n,e,"htmlContainer"),e.html?(st(e.html,n),W(n,"block")):e.text?(n.textContent=e.text,W(n,"block")):J(n),((t,e)=>{const n=E();if(!n)return;const r=pt.innerParams.get(t),o=!r||e.input!==r.input;mt.forEach((t=>{const r=V(n,i[t]);r&&(gt(t,e.inputAttributes),r.className=i[t],o&&J(r))})),e.input&&(o&&vt(e),yt(e))})(t,e))},Pt=(t,e)=>{for(const[n,r]of Object.entries(s))e.icon!==n&&K(t,r);z(t,e.icon&&s[e.icon]),Ot(t,e),jt(),R(t,e,"icon")},jt=()=>{const t=E();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let t=0;t<n.length;t++)n[t].style.backgroundColor=e},Tt=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,r="";e.iconHtml?r=At(e.iconHtml):"success"===e.icon?(r='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',n=n.replace(/ style=".*?"/g,"")):"error"===e.icon?r='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':e.icon&&(r=At({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==r.trim()&&M(t,r)},Ot=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Z(t,n,"background-color",e.iconColor);Z(t,".swal2-success-ring","border-color",e.iconColor)}},At=t=>`<div class="${i["icon-content"]}">${t}</div>`;let _t=!1,Ct=0,It=0,Lt=0,Bt=0;const Nt=t=>{const e=E();if(t.target===e||k().contains(t.target)){_t=!0;const n=Dt(t);Ct=n.clientX,It=n.clientY,Lt=parseInt(e.style.insetInlineStart)||0,Bt=parseInt(e.style.insetBlockStart)||0,z(e,"swal2-dragging")}},Ft=t=>{const e=E();if(_t){let{clientX:n,clientY:r}=Dt(t);e.style.insetInlineStart=`${Lt+(n-Ct)}px`,e.style.insetBlockStart=`${Bt+(r-It)}px`}},Gt=()=>{const t=E();_t=!1,K(t,"swal2-dragging")},Dt=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},Mt=(t,e)=>{const n=y(),r=E();if(n&&r){if(e.toast){Y(n,"width",e.width),r.style.width="100%";const t=C();t&&r.insertBefore(t,k())}else Y(r,"width",e.width);Y(r,"padding",e.padding),e.color&&(r.style.color=e.color),e.background&&(r.style.background=e.background),J(T()),Ut(r,e),e.draggable&&!e.toast?(z(r,i.draggable),(t=>{t.addEventListener("mousedown",Nt),document.body.addEventListener("mousemove",Ft),t.addEventListener("mouseup",Gt),t.addEventListener("touchstart",Nt),document.body.addEventListener("touchmove",Ft),t.addEventListener("touchend",Gt)})(r)):(K(r,i.draggable),(t=>{t.removeEventListener("mousedown",Nt),document.body.removeEventListener("mousemove",Ft),t.removeEventListener("mouseup",Gt),t.removeEventListener("touchstart",Nt),document.body.removeEventListener("touchmove",Ft),t.removeEventListener("touchend",Gt)})(r))}},Ut=(t,e)=>{const n=e.showClass||{};t.className=`${i.popup} ${tt(t)?n.popup:""}`,e.toast?(z([document.documentElement,document.body],i["toast-shown"]),z(t,i.toast)):z(t,i.modal),R(t,e,"popup"),"string"==typeof e.customClass&&z(t,e.customClass),e.icon&&z(t,i[`icon-${e.icon}`])},Rt=t=>{const e=document.createElement("li");return z(e,i["progress-step"]),M(e,t),e},qt=t=>{const e=document.createElement("li");return z(e,i["progress-step-line"]),t.progressStepsDistance&&Y(e,"width",t.progressStepsDistance),e},Ht=(t,e)=>{Mt(0,e),ft(0,e),((t,e)=>{const n=j();if(!n)return;const{progressSteps:r,currentProgressStep:o}=e;r&&0!==r.length&&void 0!==o?(W(n),n.textContent="",o>=r.length&&l("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach(((t,a)=>{const s=Rt(t);if(n.appendChild(s),a===o&&z(s,i["active-progress-step"]),a!==r.length-1){const t=qt(e);n.appendChild(t)}}))):J(n)})(0,e),((t,e)=>{const n=pt.innerParams.get(t),r=k();if(r){if(n&&e.icon===n.icon)return Tt(r,e),void Pt(r,e);if(e.icon||e.iconHtml){if(e.icon&&-1===Object.keys(s).indexOf(e.icon))return h(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),void J(r);W(r),Tt(r,e),Pt(r,e),z(r,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",jt)}else J(r)}})(t,e),((t,e)=>{const n=P();n&&(e.imageUrl?(W(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Y(n,"width",e.imageWidth),Y(n,"height",e.imageHeight),n.className=i.image,R(n,e,"image")):J(n))})(0,e),((t,e)=>{const n=x();n&&(X(n),Q(n,e.title||e.titleText,"block"),e.title&&st(e.title,n),e.titleText&&(n.innerText=e.titleText),R(n,e,"title"))})(0,e),((t,e)=>{const n=N();n&&(M(n,e.closeButtonHtml||""),R(n,e,"closeButton"),Q(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))})(0,e),St(t,e),lt(0,e),((t,e)=>{const n=L();n&&(X(n),Q(n,e.footer,"block"),e.footer&&st(e.footer,n),R(n,e,"footer"))})(0,e);const n=E();"function"==typeof e.didRender&&n&&e.didRender(n),r.eventEmitter.emit("didRender",n)},$t=()=>{var t;return null===(t=O())||void 0===t?void 0:t.click()},zt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Kt=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Vt=(t,e)=>{var n;const r=F();if(r.length)return-2===(t+=e)&&(t=r.length-1),t===r.length?t=0:-1===t&&(t=r.length-1),void r[t].focus();null===(n=E())||void 0===n||n.focus()},Yt=["ArrowRight","ArrowDown"],Wt=["ArrowLeft","ArrowUp"],Jt=(t,e,n)=>{t&&(e.isComposing||229===e.keyCode||(t.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?Xt(e,t):"Tab"===e.key?Zt(e):[...Yt,...Wt].includes(e.key)?Qt(e.key):"Escape"===e.key&&te(e,t,n)))},Xt=(t,e)=>{if(!p(e.allowEnterKey))return;const n=q(E(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;$t(),t.preventDefault()}},Zt=t=>{const e=t.target,n=F();let r=-1;for(let t=0;t<n.length;t++)if(e===n[t]){r=t;break}t.shiftKey?Vt(r,-1):Vt(r,1),t.stopPropagation(),t.preventDefault()},Qt=t=>{const e=I(),n=O(),r=_(),o=A();if(!(e&&n&&r&&o))return;const a=[n,r,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const i=Yt.includes(t)?"nextElementSibling":"previousElementSibling";let s=document.activeElement;if(s){for(let t=0;t<e.children.length;t++){if(s=s[i],!s)return;if(s instanceof HTMLButtonElement&&tt(s))break}s instanceof HTMLButtonElement&&s.focus()}},te=(t,e,n)=>{p(e.allowEscapeKey)&&(t.preventDefault(),n(zt.esc))};var ee={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const ne=()=>{Array.from(document.body.children).forEach((t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")}))},re="undefined"!=typeof window&&!!window.GestureEvent,oe=()=>{const t=y();if(!t)return;let e;t.ontouchstart=t=>{e=ae(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},ae=t=>{const e=t.target,n=y(),r=S();return!(!n||!r||ie(t)||se(t)||e!==n&&(et(n)||!(e instanceof HTMLElement)||((t,e)=>{let n=t;for(;n&&n!==e;){if(et(n))return!0;n=n.parentElement}return!1})(e,r)||"INPUT"===e.tagName||"TEXTAREA"===e.tagName||et(r)&&r.contains(e)))},ie=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,se=t=>t.touches&&t.touches.length>1;let ce=null;const ue=t=>{null===ce&&(document.body.scrollHeight>window.innerHeight||"scroll"===t)&&(ce=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ce+(()=>{const t=document.createElement("div");t.className=i["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e})()}px`)};function le(t,e,n,a){D()?ye(t,a):(o(n).then((()=>ye(t,a))),Kt(r)),re?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),G()&&(null!==ce&&(document.body.style.paddingRight=`${ce}px`,ce=null),(()=>{if(U(document.body,i.iosfix)){const t=parseInt(document.body.style.top,10);K(document.body,i.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}})(),ne()),K([document.documentElement,document.body],[i.shown,i["height-auto"],i["no-backdrop"],i["toast-shown"]])}function he(t){t=me(t);const e=ee.swalPromiseResolve.get(this),n=de(this);this.isAwaitingPromise?t.isDismissed||(pe(this),e(t)):n&&e(t)}const de=t=>{const e=E();if(!e)return!1;const n=pt.innerParams.get(t);if(!n||U(e,n.hideClass.popup))return!1;K(e,n.showClass.popup),z(e,n.hideClass.popup);const r=y();return K(r,n.showClass.backdrop),z(r,n.hideClass.backdrop),ve(t,e,n),!0};function fe(t){const e=ee.swalPromiseReject.get(this);pe(this),e&&e(t)}const pe=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,pt.innerParams.get(t)||t._destroy())},me=t=>void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),ve=(t,e,n)=>{var o;const a=y(),i=nt(e);"function"==typeof n.willClose&&n.willClose(e),null===(o=r.eventEmitter)||void 0===o||o.emit("willClose",e),i?ge(t,e,a,n.returnFocus,n.didClose):le(t,a,n.returnFocus,n.didClose)},ge=(t,e,n,o,a)=>{r.swalCloseEventFinishedCallback=le.bind(null,t,n,o,a);const i=function(t){var n;t.target===e&&(null===(n=r.swalCloseEventFinishedCallback)||void 0===n||n.call(r),delete r.swalCloseEventFinishedCallback,e.removeEventListener("animationend",i),e.removeEventListener("transitionend",i))};e.addEventListener("animationend",i),e.addEventListener("transitionend",i)},ye=(t,e)=>{setTimeout((()=>{var n;"function"==typeof e&&e.bind(t.params)(),null===(n=r.eventEmitter)||void 0===n||n.emit("didClose"),t._destroy&&t._destroy()}))},we=t=>{let e=E();if(e||new Qn,e=E(),!e)return;const n=C();D()?J(k()):be(e,t),W(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},be=(t,e)=>{const n=I(),r=C();n&&r&&(!e&&tt(O())&&(e=O()),W(n),e&&(J(e),r.setAttribute("data-button-to-replace",e.className),n.insertBefore(r,e)),z([t,n],i.loading))},Ee=t=>t.checked?1:0,ke=t=>t.checked?t.value:null,xe=t=>t.files&&t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null,Se=(t,e)=>{const n=E();if(!n)return;const r=t=>{"select"===e.input?function(t,e,n){const r=V(t,i.select);if(!r)return;const o=(t,e,r)=>{const o=document.createElement("option");o.value=r,M(o,e),o.selected=Te(r,n.inputValue),t.appendChild(o)};e.forEach((t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,r.appendChild(t),n.forEach((e=>o(t,e[1],e[0])))}else o(r,n,e)})),r.focus()}(n,je(t),e):"radio"===e.input&&function(t,e,n){const r=V(t,i.radio);if(!r)return;e.forEach((t=>{const e=t[0],o=t[1],a=document.createElement("input"),s=document.createElement("label");a.type="radio",a.name=i.radio,a.value=e,Te(e,n.inputValue)&&(a.checked=!0);const c=document.createElement("span");M(c,o),c.className=i.label,s.appendChild(a),s.appendChild(c),r.appendChild(s)}));const o=r.querySelectorAll("input");o.length&&o[0].focus()}(n,je(t),e)};m(e.inputOptions)||g(e.inputOptions)?(we(O()),v(e.inputOptions).then((e=>{t.hideLoading(),r(e)}))):"object"==typeof e.inputOptions?r(e.inputOptions):h("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof e.inputOptions)},Pe=(t,e)=>{const n=t.getInput();n&&(J(n),v(e.inputValue).then((r=>{n.value="number"===e.input?`${parseFloat(r)||0}`:`${r}`,W(n),n.focus(),t.hideLoading()})).catch((e=>{h(`Error in inputValue promise: ${e}`),n.value="",W(n),n.focus(),t.hideLoading()})))};const je=t=>{const e=[];return t instanceof Map?t.forEach(((t,n)=>{let r=t;"object"==typeof r&&(r=je(r)),e.push([n,r])})):Object.keys(t).forEach((n=>{let r=t[n];"object"==typeof r&&(r=je(r)),e.push([n,r])})),e},Te=(t,e)=>!!e&&e.toString()===t.toString(),Oe=(t,e)=>{const n=pt.innerParams.get(t);if(!n.input)return void h(`The "input" parameter is needed to be set when using returnInputValueOn${u(e)}`);const r=t.getInput(),o=((t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Ee(n);case"radio":return ke(n);case"file":return xe(n);default:return e.inputAutoTrim?n.value.trim():n.value}})(t,n);n.inputValidator?Ae(t,o,e):r&&!r.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||r.validationMessage)):"deny"===e?_e(t,o):Le(t,o)},Ae=(t,e,n)=>{const r=pt.innerParams.get(t);t.disableInput(),Promise.resolve().then((()=>v(r.inputValidator(e,r.validationMessage)))).then((r=>{t.enableButtons(),t.enableInput(),r?t.showValidationMessage(r):"deny"===n?_e(t,e):Le(t,e)}))},_e=(t,e)=>{const n=pt.innerParams.get(t||void 0);n.showLoaderOnDeny&&we(_()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then((()=>v(n.preDeny(e,n.validationMessage)))).then((n=>{!1===n?(t.hideLoading(),pe(t)):t.close({isDenied:!0,value:void 0===n?e:n})})).catch((e=>Ie(t||void 0,e)))):t.close({isDenied:!0,value:e})},Ce=(t,e)=>{t.close({isConfirmed:!0,value:e})},Ie=(t,e)=>{t.rejectPromise(e)},Le=(t,e)=>{const n=pt.innerParams.get(t||void 0);n.showLoaderOnConfirm&&we(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then((()=>v(n.preConfirm(e,n.validationMessage)))).then((n=>{tt(T())||!1===n?(t.hideLoading(),pe(t)):Ce(t,void 0===n?e:n)})).catch((e=>Ie(t||void 0,e)))):Ce(t,e)};function Be(){const t=pt.innerParams.get(this);if(!t)return;const e=pt.domCache.get(this);J(e.loader),D()?t.icon&&W(k()):Ne(e),K([e.popup,e.actions],i.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Ne=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?W(e[0],"inline-block"):!tt(O())&&!tt(_())&&!tt(A())&&J(t.actions)};function Fe(){const t=pt.innerParams.get(this),e=pt.domCache.get(this);return e?q(e.popup,t.input):null}function Ge(t,e,n){const r=pt.domCache.get(t);e.forEach((t=>{r[t].disabled=n}))}function De(t,e){const n=E();if(n&&t)if("radio"===t.type){const t=n.querySelectorAll(`[name="${i.radio}"]`);for(let n=0;n<t.length;n++)t[n].disabled=e}else t.disabled=e}function Me(){Ge(this,["confirmButton","denyButton","cancelButton"],!1)}function Ue(){Ge(this,["confirmButton","denyButton","cancelButton"],!0)}function Re(){De(this.getInput(),!1)}function qe(){De(this.getInput(),!0)}function He(t){const e=pt.domCache.get(this),n=pt.innerParams.get(this);M(e.validationMessage,t),e.validationMessage.className=i["validation-message"],n.customClass&&n.customClass.validationMessage&&z(e.validationMessage,n.customClass.validationMessage),W(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",i["validation-message"]),H(r),z(r,i.inputerror))}function $e(){const t=pt.domCache.get(this);t.validationMessage&&J(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),K(e,i.inputerror))}const ze={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Ke=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Ve={allowEnterKey:void 0},Ye=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],We=t=>Object.prototype.hasOwnProperty.call(ze,t),Je=t=>-1!==Ke.indexOf(t),Xe=t=>Ve[t],Ze=t=>{We(t)||l(`Unknown parameter "${t}"`)},Qe=t=>{Ye.includes(t)&&l(`The parameter "${t}" is incompatible with toasts`)},tn=t=>{const e=Xe(t);e&&f(t,e)},en=t=>{!1===t.backdrop&&t.allowOutsideClick&&l('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&l(`Invalid theme "${t.theme}"`);for(const e in t)Ze(e),t.toast&&Qe(e),tn(e)};function nn(t){const e=y(),n=E(),r=pt.innerParams.get(this);if(!n||U(n,r.hideClass.popup))return void l("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const o=rn(t),a=Object.assign({},r,o);en(a),e.dataset.swal2Theme=a.theme,Ht(this,a),pt.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const rn=t=>{const e={};return Object.keys(t).forEach((n=>{Je(n)?e[n]=t[n]:l(`Invalid parameter to update: ${n}`)})),e};function on(){const t=pt.domCache.get(this),e=pt.innerParams.get(this);e?(t.popup&&r.swalCloseEventFinishedCallback&&(r.swalCloseEventFinishedCallback(),delete r.swalCloseEventFinishedCallback),"function"==typeof e.didDestroy&&e.didDestroy(),r.eventEmitter.emit("didDestroy"),an(this)):sn(this)}const an=t=>{sn(t),delete t.params,delete r.keydownHandler,delete r.keydownTarget,delete r.currentInstance},sn=t=>{t.isAwaitingPromise?(cn(pt,t),t.isAwaitingPromise=!0):(cn(ee,t),cn(pt,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},cn=(t,e)=>{for(const n in t)t[n].delete(e)};var un=Object.freeze({__proto__:null,_destroy:on,close:he,closeModal:he,closePopup:he,closeToast:he,disableButtons:Ue,disableInput:qe,disableLoading:Be,enableButtons:Me,enableInput:Re,getInput:Fe,handleAwaitingPromise:pe,hideLoading:Be,rejectPromise:fe,resetValidationMessage:$e,showValidationMessage:He,update:nn});const ln=(t,e,n)=>{e.popup.onclick=()=>{t&&(hn(t)||t.timer||t.input)||n(zt.close)}},hn=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let dn=!1;const fn=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(dn=!0)}}},pn=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(e){t.popup.onmouseup=()=>{},(e.target===t.popup||e.target instanceof HTMLElement&&t.popup.contains(e.target))&&(dn=!0)}}},mn=(t,e,n)=>{e.container.onclick=r=>{dn?dn=!1:r.target===e.container&&p(t.allowOutsideClick)&&n(zt.backdrop)}},vn=t=>t instanceof Element||(t=>"object"==typeof t&&t.jquery)(t);const gn=()=>{if(r.timeout)return(()=>{const t=B();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=e/parseInt(window.getComputedStyle(t).width)*100;t.style.width=`${n}%`})(),r.timeout.stop()},yn=()=>{if(r.timeout){const t=r.timeout.start();return rt(t),t}};let wn=!1;const bn={};const En=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in bn){const n=e.getAttribute(t);if(n)return void bn[t].fire({template:n})}};r.eventEmitter=new class{constructor(){this.events={}}_getHandlersByEventName(t){return void 0===this.events[t]&&(this.events[t]=[]),this.events[t]}on(t,e){const n=this._getHandlersByEventName(t);n.includes(e)||n.push(e)}once(t,e){const n=(...r)=>{this.removeListener(t,n),e.apply(this,r)};this.on(t,n)}emit(t,...e){this._getHandlersByEventName(t).forEach((t=>{try{t.apply(this,e)}catch(t){console.error(t)}}))}removeListener(t,e){const n=this._getHandlersByEventName(t),r=n.indexOf(e);r>-1&&n.splice(r,1)}removeAllListeners(t){void 0!==this.events[t]&&(this.events[t].length=0)}reset(){this.events={}}};var kn=Object.freeze({__proto__:null,argsToParams:t=>{const e={};return"object"!=typeof t[0]||vn(t[0])?["title","html","icon"].forEach(((n,r)=>{const o=t[r];"string"==typeof o||vn(o)?e[n]=o:void 0!==o&&h(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)})):Object.assign(e,t[0]),e},bindClickHandler:function(t="data-swal-template"){bn[t]=this,wn||(document.body.addEventListener("click",En),wn=!0)},clickCancel:()=>{var t;return null===(t=A())||void 0===t?void 0:t.click()},clickConfirm:$t,clickDeny:()=>{var t;return null===(t=_())||void 0===t?void 0:t.click()},enableLoading:we,fire:function(...t){return new this(...t)},getActions:I,getCancelButton:A,getCloseButton:N,getConfirmButton:O,getContainer:y,getDenyButton:_,getFocusableElements:F,getFooter:L,getHtmlContainer:S,getIcon:k,getIconContent:()=>b(i["icon-content"]),getImage:P,getInputLabel:()=>b(i["input-label"]),getLoader:C,getPopup:E,getProgressSteps:j,getTimerLeft:()=>r.timeout&&r.timeout.getTimerLeft(),getTimerProgressBar:B,getTitle:x,getValidationMessage:T,increaseTimer:t=>{if(r.timeout){const e=r.timeout.increase(t);return rt(e,!0),e}},isDeprecatedParameter:Xe,isLoading:()=>{const t=E();return!!t&&t.hasAttribute("data-loading")},isTimerRunning:()=>!(!r.timeout||!r.timeout.isRunning()),isUpdatableParameter:Je,isValidParameter:We,isVisible:()=>tt(E()),mixin:function(t){return class extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}},off:(t,e)=>{t?e?r.eventEmitter.removeListener(t,e):r.eventEmitter.removeAllListeners(t):r.eventEmitter.reset()},on:(t,e)=>{r.eventEmitter.on(t,e)},once:(t,e)=>{r.eventEmitter.once(t,e)},resumeTimer:yn,showLoading:we,stopTimer:gn,toggleTimer:()=>{const t=r.timeout;return t&&(t.running?gn():yn())}});class xn{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Sn=["swal-title","swal-html","swal-footer"],Pn=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach((t=>{Ln(t,["name","value"]);const n=t.getAttribute("name"),r=t.getAttribute("value");n&&r&&(e[n]="boolean"==typeof ze[n]?"false"!==r:"object"==typeof ze[n]?JSON.parse(r):r)})),e},jn=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach((t=>{const n=t.getAttribute("name"),r=t.getAttribute("value");n&&r&&(e[n]=new Function(`return ${r}`)())})),e},Tn=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach((t=>{Ln(t,["type","color","aria-label"]);const n=t.getAttribute("type");n&&["confirm","cancel","deny"].includes(n)&&(e[`${n}ButtonText`]=t.innerHTML,e[`show${u(n)}Button`]=!0,t.hasAttribute("color")&&(e[`${n}ButtonColor`]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e[`${n}ButtonAriaLabel`]=t.getAttribute("aria-label")))})),e},On=t=>{const e={},n=t.querySelector("swal-image");return n&&(Ln(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},An=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Ln(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},_n=t=>{const e={},n=t.querySelector("swal-input");n&&(Ln(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const r=Array.from(t.querySelectorAll("swal-input-option"));return r.length&&(e.inputOptions={},r.forEach((t=>{Ln(t,["value"]);const n=t.getAttribute("value");if(!n)return;const r=t.innerHTML;e.inputOptions[n]=r}))),e},Cn=(t,e)=>{const n={};for(const r in e){const o=e[r],a=t.querySelector(o);a&&(Ln(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},In=t=>{const e=Sn.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach((t=>{const n=t.tagName.toLowerCase();e.includes(n)||l(`Unrecognized element <${n}>`)}))},Ln=(t,e)=>{Array.from(t.attributes).forEach((n=>{-1===e.indexOf(n.name)&&l([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."])}))},Bn=t=>{const e=y(),n=E();"function"==typeof t.willOpen&&t.willOpen(n),r.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;Dn(e,n,t),setTimeout((()=>{Fn(e,n)}),10),G()&&(Gn(e,t.scrollbarPadding,o),(()=>{const t=y();Array.from(document.body.children).forEach((e=>{e.contains(t)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))}))})()),D()||r.previousActiveElement||(r.previousActiveElement=document.activeElement),"function"==typeof t.didOpen&&setTimeout((()=>t.didOpen(n))),r.eventEmitter.emit("didOpen",n),K(e,i["no-transition"])},Nn=t=>{const e=E();if(t.target!==e)return;const n=y();e.removeEventListener("animationend",Nn),e.removeEventListener("transitionend",Nn),n.style.overflowY="auto"},Fn=(t,e)=>{nt(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",Nn),e.addEventListener("transitionend",Nn)):t.style.overflowY="auto"},Gn=(t,e,n)=>{(()=>{if(re&&!U(document.body,i.iosfix)){const t=document.body.scrollTop;document.body.style.top=-1*t+"px",z(document.body,i.iosfix),oe()}})(),e&&"hidden"!==n&&ue(n),setTimeout((()=>{t.scrollTop=0}))},Dn=(t,e,n)=>{z(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),W(e,"grid"),setTimeout((()=>{z(e,n.showClass.popup),e.style.removeProperty("opacity")}),10)):W(e,"grid"),z([document.documentElement,document.body],i.shown),n.heightAuto&&n.backdrop&&!n.toast&&z([document.documentElement,document.body],i["height-auto"])};var Mn=(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),Un=(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL");function Rn(t){(function(t){t.inputValidator||("email"===t.input&&(t.inputValidator=Mn),"url"===t.input&&(t.inputValidator=Un))})(t),t.showLoaderOnConfirm&&!t.preConfirm&&l("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(l('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),it(t)}let qn;var Hn=new WeakMap;class $n{constructor(...e){if(n(this,Hn,void 0),"undefined"==typeof window)return;qn=this;const r=Object.freeze(this.constructor.argsToParams(e));var o,a,i;this.params=r,this.isAwaitingPromise=!1,o=Hn,a=this,i=this._main(qn.params),o.set(t(o,a),i)}_main(t,e={}){if(en(Object.assign({},e,t)),r.currentInstance){const t=ee.swalPromiseResolve.get(r.currentInstance),{isAwaitingPromise:e}=r.currentInstance;r.currentInstance._destroy(),e||t({isDismissed:!0}),G()&&ne()}r.currentInstance=qn;const n=Kn(t,e);Rn(n),Object.freeze(n),r.timeout&&(r.timeout.stop(),delete r.timeout),clearTimeout(r.restoreFocusTimeout);const o=Vn(qn);return Ht(qn,n),pt.innerParams.set(qn,n),zn(qn,o,n)}then(t){return e(Hn,this).then(t)}finally(t){return e(Hn,this).finally(t)}}const zn=(t,e,n)=>new Promise(((o,a)=>{const i=e=>{t.close({isDismissed:!0,dismiss:e})};ee.swalPromiseResolve.set(t,o),ee.swalPromiseReject.set(t,a),e.confirmButton.onclick=()=>{(t=>{const e=pt.innerParams.get(t);t.disableButtons(),e.input?Oe(t,"confirm"):Le(t,!0)})(t)},e.denyButton.onclick=()=>{(t=>{const e=pt.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Oe(t,"deny"):_e(t,!1)})(t)},e.cancelButton.onclick=()=>{((t,e)=>{t.disableButtons(),e(zt.cancel)})(t,i)},e.closeButton.onclick=()=>{i(zt.close)},((t,e,n)=>{t.toast?ln(t,e,n):(fn(e),pn(e),mn(t,e,n))})(n,e,i),((t,e,n)=>{Kt(t),e.toast||(t.keydownHandler=t=>Jt(e,t,n),t.keydownTarget=e.keydownListenerCapture?window:E(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)})(r,n,i),((t,e)=>{"select"===e.input||"radio"===e.input?Se(t,e):["text","email","number","tel","textarea"].some((t=>t===e.input))&&(m(e.inputValue)||g(e.inputValue))&&(we(O()),Pe(t,e))})(t,n),Bn(n),Yn(r,n,i),Wn(e,n),setTimeout((()=>{e.container.scrollTop=0}))})),Kn=(t,e)=>{const n=(t=>{const e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return In(n),Object.assign(Pn(n),jn(n),Tn(n),On(n),An(n),_n(n),Cn(n,Sn))})(t),r=Object.assign({},ze,e,n,t);return r.showClass=Object.assign({},ze.showClass,r.showClass),r.hideClass=Object.assign({},ze.hideClass,r.hideClass),!1===r.animation&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},Vn=t=>{const e={popup:E(),container:y(),actions:I(),confirmButton:O(),denyButton:_(),cancelButton:A(),loader:C(),closeButton:N(),validationMessage:T(),progressSteps:j()};return pt.domCache.set(t,e),e},Yn=(t,e,n)=>{const r=B();J(r),e.timer&&(t.timeout=new xn((()=>{n("timer"),delete t.timeout}),e.timer),e.timerProgressBar&&(W(r),R(r,e,"timerProgressBar"),setTimeout((()=>{t.timeout&&t.timeout.running&&rt(e.timer)}))))},Wn=(t,e)=>{if(!e.toast)return p(e.allowEnterKey)?void(Jn(t)||Xn(t,e)||Vt(-1,1)):(f("allowEnterKey"),void Zn())},Jn=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&tt(t))return t.focus(),!0;return!1},Xn=(t,e)=>e.focusDeny&&tt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&tt(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!tt(t.confirmButton)||(t.confirmButton.focus(),0)),Zn=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/864e5>3&&setTimeout((()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout((()=>{t.play().catch((()=>{}))}),2500)}),500):localStorage.setItem("swal-initiation",`${t}`)}$n.prototype.disableButtons=Ue,$n.prototype.enableButtons=Me,$n.prototype.getInput=Fe,$n.prototype.disableInput=qe,$n.prototype.enableInput=Re,$n.prototype.hideLoading=Be,$n.prototype.disableLoading=Be,$n.prototype.showValidationMessage=He,$n.prototype.resetValidationMessage=$e,$n.prototype.close=he,$n.prototype.closePopup=he,$n.prototype.closeModal=he,$n.prototype.closeToast=he,$n.prototype.rejectPromise=fe,$n.prototype.update=nn,$n.prototype._destroy=on,Object.assign($n,kn),Object.keys(un).forEach((t=>{$n[t]=function(...e){return qn&&qn[t]?qn[t](...e):null}})),$n.DismissReason=zt,$n.version="11.22.0";const Qn=$n;return Qn.default=Qn,Qn}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')}},r={};function o(t){var e=r[t];if(void 0!==e)return e.exports;var a=r[t]={exports:{}};return n[t].call(a.exports,a,a.exports,o),a.exports}o.m=n,o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.f={},o.e=t=>Promise.all(Object.keys(o.f).reduce(((e,n)=>(o.f[n](t,e),e)),[])),o.u=t=>t+".bundle.js",o.miniCssF=t=>t+".css",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="app-starter-project-with-webpack:",o.l=(n,r,a,i)=>{if(t[n])t[n].push(r);else{var s,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var h=u[l];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==e+a){s=h;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",e+a),s.src=n),t[n]=[r];var d=(e,r)=>{s.onerror=s.onload=null,clearTimeout(f);var o=t[n];if(delete t[n],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((t=>t(r))),e)return e(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{if("undefined"!=typeof document){var t={524:0};o.f.miniCss=(e,n)=>{t[e]?n.push(t[e]):0!==t[e]&&{841:1}[e]&&n.push(t[e]=(t=>new Promise(((e,n)=>{var r=o.miniCssF(t),a=o.p+r;if(((t,e)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(i=n[r]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(o===t||o===e))return i}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){var i;if((o=(i=a[r]).getAttribute("data-href"))===t||o===e)return i}})(r,a))return e();((t,e,n,r,a)=>{var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",o.nc&&(i.nonce=o.nc),i.onerror=i.onload=n=>{if(i.onerror=i.onload=null,"load"===n.type)r();else{var o=n&&n.type,s=n&&n.target&&n.target.href||e,c=new Error("Loading CSS chunk "+t+" failed.\n("+o+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=s,i.parentNode&&i.parentNode.removeChild(i),a(c)}},i.href=e,document.head.appendChild(i)})(t,a,0,e,n)})))(e).then((()=>{t[e]=0}),(n=>{throw delete t[e],n})))}}})(),(()=>{var t={524:0};o.f.j=(e,n)=>{var r=o.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,o)=>r=t[e]=[n,o]));n.push(r[2]=a);var i=o.p+o.u(e),s=new Error;o.l(i,(n=>{if(o.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,r[1](s)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,a,[i,s,c]=n,u=0;if(i.some((e=>0!==t[e]))){for(r in s)o.o(s,r)&&(o.m[r]=s[r]);c&&c(o)}for(e&&e(n);u<i.length;u++)a=i[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0},n=self.webpackChunkapp_starter_project_with_webpack=self.webpackChunkapp_starter_project_with_webpack||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";var t=o(8465),e=o.n(t);const n={BASE_URL:"https://apiww-production.up.railway.app",API_ENDPOINTS:{AUTH:{REGISTER:"/api/auth/register",LOGIN:"/api/auth/login",LOGOUT:"/api/auth/logout",GET_USER:"/api/auth/user",REFRESH_TOKEN:"/api/auth/refresh"},POSTS:{GET_ALL:"/api/posts",GET_BY_ID:"/api/posts/",CREATE:"/api/posts",UPDATE:"/api/posts/",DELETE:"/api/posts/"},COMMENTS:{GET_ALL:"/api/posts/{postId}/comments",CREATE:"/api/posts/{postId}/comments",UPDATE:"/api/posts/{postId}/comments/{commentId}",DELETE:"/api/posts/{postId}/comments/{commentId}"},ACCOUNT:{GET:"/api/account",UPDATE:"/api/account",DELETE:"/api/account"}},STORAGE_KEYS:{AUTH_TOKEN:"agriedu_auth_token",REFRESH_TOKEN:"agriedu_refresh_token",USER_DATA:"agriedu_user_data"}};var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.error("Error getting ".concat(t," from localStorage:"),n),e}},a=function(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch(e){console.error("Error setting ".concat(t," in localStorage:"),e)}},i=function(t){try{localStorage.removeItem(t)}catch(e){console.error("Error removing ".concat(t," from localStorage:"),e)}};function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function c(){c=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function l(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function h(e,n,r,o){var a=n&&n.prototype instanceof p?n:p,i=Object.create(a.prototype);return l(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=x(s,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=d(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new j(o||[])),!0),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var f={};function p(){}function m(){}function v(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(T([])));w&&w!==n&&r.call(w,a)&&(g=w);var b=v.prototype=p.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var u=d(t[o],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==s(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(h).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;l(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=d(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,f;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}function S(t){this.tryEntries.push(t)}function P(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function j(t){this.tryEntries=[[-1]],t.forEach(S,this),this.reset(!0)}function T(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return m.prototype=v,l(b,"constructor",v),l(v,"constructor",m),l(v,u,m.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},E(k.prototype),l(k.prototype,i,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(h(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(b),l(b,u,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),P(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:T(e),r:n,n:r},"next"===this.method&&(this.arg=t),f}},e}function u(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){u(a,r,o,i,s,"next",t)}function s(t){u(a,r,o,i,s,"throw",t)}i(void 0)}))}}var h=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new Headers({"Content-Type":"application/json"});if(t){var n=j.getToken();console.log("Token untuk Authorization:",n),n&&e.append("Authorization","Bearer ".concat(n))}return e};function d(t){return f.apply(this,arguments)}function f(){return f=l(c().mark((function t(e){var n,r,o,a=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},t.prev=1,t.next=4,fetch(e,n);case 4:return r=t.sent,t.next=7,r.json();case 7:if(o=t.sent,r.ok){t.next=10;break}throw new Error(o.message||"API request failed with status ".concat(r.status));case 10:return t.abrupt("return",o);case 13:throw t.prev=13,t.t0=t.catch(1),console.error("API request error:",t.t0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[1,13]])}))),f.apply(this,arguments)}function p(t){return m.apply(this,arguments)}function m(){return m=l(c().mark((function t(e){var r,o,a,i=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],o="".concat(n.BASE_URL).concat(e),a={method:"GET",headers:h(r)},t.abrupt("return",d(o,a));case 4:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function v(t,e){return g.apply(this,arguments)}function g(){return g=l(c().mark((function t(e,r){var o,a,i,s=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=s.length>2&&void 0!==s[2]&&s[2],a="".concat(n.BASE_URL).concat(e),i={method:"POST",headers:h(o),body:JSON.stringify(r)},t.abrupt("return",d(a,i));case 4:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function y(t,e){return w.apply(this,arguments)}function w(){return w=l(c().mark((function t(e,r){var o,a,i,s=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=!(s.length>2&&void 0!==s[2])||s[2],a="".concat(n.BASE_URL).concat(e),i={method:"PUT",headers:h(o),body:JSON.stringify(r)},t.abrupt("return",d(a,i));case 4:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function E(){E=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=x(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new j(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(T([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==b(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function S(t){this.tryEntries.push(t)}function P(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function j(t){this.tryEntries=[[-1]],t.forEach(S,this),this.reset(!0)}function T(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(b(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(k.prototype),c(k.prototype,i,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),P(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:T(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function k(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){k(a,r,o,i,s,"next",t)}function s(t){k(a,r,o,i,s,"throw",t)}i(void 0)}))}}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P(r.key),r)}}function P(t){var e=function(t){if("object"!=b(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==b(e)?e:e+""}const j=new(function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"register",value:(u=x(E().mark((function t(e){var r;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(n.API_ENDPOINTS.AUTH.REGISTER,e);case 3:return r=t.sent,t.abrupt("return",r);case 7:throw t.prev=7,t.t0=t.catch(0),console.error("Registration error:",t.t0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,7]])}))),function(t){return u.apply(this,arguments)})},{key:"login",value:(c=x(E().mark((function t(e){var r;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(n.API_ENDPOINTS.AUTH.LOGIN,e);case 3:return r=t.sent,this.saveAuthData(r),t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),console.error("Login error:",t.t0),t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(t){return c.apply(this,arguments)})},{key:"logout",value:(s=x(E().mark((function t(){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(n.API_ENDPOINTS.AUTH.LOGOUT,{},!0);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Logout error:",t.t0);case 8:return t.prev=8,this.clearAuthData(),t.finish(8);case 11:case"end":return t.stop()}}),t,this,[[0,5,8,11]])}))),function(){return s.apply(this,arguments)})},{key:"getCurrentUser",value:(o=x(E().mark((function t(){var e,r,o;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=this.getToken()){t.next=4;break}throw new Error("No authentication token found");case 4:return console.log("Getting current user with token:",e.substring(0,20)+"..."),t.next=7,p(n.API_ENDPOINTS.AUTH.GET_USER,!0);case 7:if(r=t.sent,console.log("getCurrentUser API response:",r),o=null,r&&r.data&&r.data.id?o=r.data:r&&r.id?o=r:r&&r.user&&(o=r.user),!o||!o.id){t.next=15;break}return console.log("Saving user data to storage:",o),a(n.STORAGE_KEYS.USER_DATA,o),t.abrupt("return",o);case 15:throw console.warn("Invalid user data structure:",r),new Error("Invalid response from server");case 19:throw t.prev=19,t.t0=t.catch(0),console.error("Get current user error:",t.t0),t.t0;case 23:case"end":return t.stop()}}),t,this,[[0,19]])}))),function(){return o.apply(this,arguments)})},{key:"saveAuthData",value:function(t){t.token&&a(n.STORAGE_KEYS.AUTH_TOKEN,t.token),t.refreshToken&&a(n.STORAGE_KEYS.REFRESH_TOKEN,t.refreshToken),t.user&&a(n.STORAGE_KEYS.USER_DATA,t.user)}},{key:"clearAuthData",value:function(){i(n.STORAGE_KEYS.AUTH_TOKEN),i(n.STORAGE_KEYS.REFRESH_TOKEN),i(n.STORAGE_KEYS.USER_DATA)}},{key:"getToken",value:function(){return r(n.STORAGE_KEYS.AUTH_TOKEN)}},{key:"getRefreshToken",value:function(){return r(n.STORAGE_KEYS.REFRESH_TOKEN)}},{key:"getUserData",value:function(){return r(n.STORAGE_KEYS.USER_DATA)}},{key:"isAuthenticated",value:function(){return!!this.getToken()}}],e&&S(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,o,s,c,u}());function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function O(){O=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==T(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(T(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function A(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C(r.key),r)}}function C(t){var e=function(t){if("object"!=T(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==T(e)?e:e+""}var I=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"init",value:function(t){this._form=t,this._emailInput=this._form.querySelector("#email"),this._passwordInput=this._form.querySelector("#password"),this._emailError=this._form.querySelector("#emailError"),this._passwordError=this._form.querySelector("#passwordError"),this._generalError=document.createElement("small"),this._generalError.classList.add("error"),this._generalError.setAttribute("id","generalError"),this._generalError.setAttribute("aria-live","polite"),this._form.querySelector("button[type='submit']").before(this._generalError),this._bindEvents(),j.isAuthenticated()&&(window.location.hash="#/home")}},{key:"_bindEvents",value:function(){var t=this;this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleSubmit()})),this._emailInput.addEventListener("input",(function(){t._validateEmail(),t._generalError.textContent=""})),this._passwordInput.addEventListener("input",(function(){t._validatePassword(),t._generalError.textContent=""})),this._form.querySelectorAll(".toggle-password").forEach((function(e){e.addEventListener("click",(function(){var n=e.getAttribute("data-target"),r=t._form.querySelector("#".concat(n)),o=e.querySelector("i");"password"===r.type?(r.type="text",o.classList.remove("fa-eye-slash"),o.classList.add("fa-eye")):(r.type="password",o.classList.remove("fa-eye"),o.classList.add("fa-eye-slash"))}))}))}},{key:"_handleSubmit",value:(n=O().mark((function t(){var e,n,r,o;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._emailError.textContent="",this._passwordError.textContent="",this._generalError.textContent="",(e=this._form.querySelector("button[type='submit']")).disabled=!0,e.textContent="Logging in...",n=this._validateEmail(),r=this._validatePassword(),!n||!r){t.next=25;break}return o={email:this._emailInput.value.trim(),password:this._passwordInput.value.trim()},t.prev=10,t.next=13,j.login(o);case 13:t.sent,Swal.fire({icon:"success",title:"Selamat datang!",text:"Login berhasil! Selamat datang kembali di AgriEdu.",showConfirmButton:!1,timer:3e3}),setTimeout((function(){window.location.hash="#/setup"}),1e3),t.next=23;break;case 18:t.prev=18,t.t0=t.catch(10),this._generalError.textContent=t.t0.message||"Login failed. Please check your credentials and try again.",e.disabled=!1,e.textContent="Login";case 23:t.next=27;break;case 25:e.disabled=!1,e.textContent="Login";case 27:case"end":return t.stop()}}),t,this,[[10,18]])})),r=function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(t){A(a,r,o,i,s,"next",t)}function s(t){A(a,r,o,i,s,"throw",t)}i(void 0)}))},function(){return r.apply(this,arguments)})},{key:"_validateEmail",value:function(){var t=this._emailInput.value.trim();return t?this._isValidEmail(t)?(this._emailError.textContent="",!0):(this._emailError.textContent="Invalid email format.",!1):(this._emailError.textContent="Email is required.",!1)}},{key:"_validatePassword",value:function(){var t=this._passwordInput.value.trim();return t?t.length<8?(this._passwordError.textContent="Password must be at least 8 characters.",!1):(this._passwordError.textContent="",!0):(this._passwordError.textContent="Password is required.",!1)}},{key:"_isValidEmail",value:function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}}],e&&_(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function B(){B=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==L(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(L(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function N(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function F(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){N(a,r,o,i,s,"next",t)}function s(t){N(a,r,o,i,s,"throw",t)}i(void 0)}))}}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D(r.key),r)}}function D(t){var e=function(t){if("object"!=L(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==L(e)?e:e+""}var M=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"render",value:(r=F(B().mark((function t(){return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n<section class="container login-page">\n  <div class="login-left">\n    <img src="logo/Main-Logo-White.png" alt="AgriEdu Logo" class="logo-overlay" />\n  </div>\n\n  \x3c!-- Right Side Form --\x3e\n  <div class="login-right">\n    <div class="login-container">\n      <h1>Log in</h1>\n      <p class="login-subtitle">Hello, welcome to AgriEdu! Please Log in to continue your smart farming journey.</p>\n      <form id="loginForm" novalidate>\n\n        <label for="email" class="form-label">Email address</label>\n        <input type="email" id="email" placeholder="Enter your email" required aria-describedby="emailError" />\n        <small class="error" id="emailError" aria-live="polite"></small>\n\n        <label for="password" class="form-label">Password</label>\n        <div class="password-wrapper">\n          <input type="password" id="password" placeholder="Enter your password" required aria-describedby="passwordError" />\n          <button type="button" class="toggle-password" data-target="password" aria-label="Toggle password visibility">\n            <i class="fa-solid fa-eye-slash"></i>\n          </button>\n        </div>\n        <small class="error" id="passwordError" aria-live="polite"></small>\n\n        <div class="forgot-password">\n          <a href="#forgot">Forgot password?</a>\n        </div>\n\n        <button type="submit">Login</button>\n      </form>\n      <p class="register-link">Don\'t have an account? <a href="#/register" id="toRegister">Register here</a></p>\n      <p class="back-link">Return to <a href="#/landing">landing page</a></p>\n    </div>\n  </div>\n</section>\n  ');case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(n=F(B().mark((function t(){return B().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(new I).init(document.querySelector("#loginForm"));case 2:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}],e&&G(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function R(){R=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==U(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(U(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function q(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function H(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){q(a,r,o,i,s,"next",t)}function s(t){q(a,r,o,i,s,"throw",t)}i(void 0)}))}}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z(r.key),r)}}function z(t){var e=function(t){if("object"!=U(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=U(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==U(e)?e:e+""}var K=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e},e=[{key:"render",value:(r=H(R().mark((function t(e){var n;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.isArray(e)?e:[],t.abrupt("return",'\n      <header class="hero-section">\n        <nav class="navbar">\n          <img src="logo/Main-Logo-White.png" alt="agriedu" class="logo" id="logo-home" />\n          <div class="hamburger-menu">\n            <div class="bar"></div>\n            <div class="bar"></div>\n            <div class="bar"></div>\n          </div>\n          <div class="nav-right">\n            <ul class="nav-links">\n              <li><a href="#ourServices" class="scroll-link">Our Service</a></li>\n              <li><a href="#aboutUs" class="scroll-link">About Us</a></li>\n              <li><a href="#signUp-login" class="scroll-link">Sign Up/Login</a></li>\n            </ul>\n            <form class="search-form"><input type="text" placeholder="Search your word" /></form>\n          </div>\n        </nav>\n        <div class="hero-content">\n          <h1>Empowering Farmers with <span>Knowledge</span> and <span>Innovation</span></h1>\n          <p>AgriEdu provides you with the tools and expertise to transform your farming practices.</p>\n          <button id="get-started-btn">Get Started</button>\n        </div>\n      </header>\n      <section class="tagline">\n        <div>Sustainable</div><div>Innovative</div><div>Empowering</div>\n        <div>Smart</div><div>Eco-friendly</div><div>Educational</div>\n      </section>\n      <section id="aboutUs" class="about">\n        <div class="about-images">\n          <img src="images/About-LandingPage.jpg" />\n          <img src="images/About-LandingPage2.jpg" />\n          <img src="images/About-LandingPage3.jpg" />\n        </div>\n        <div class="about-text">\n          <h3>About Us</h3>\n          <h2>What is AgriEdu?</h2>\n          <p><strong>Modern & Accessible Farming Education</strong><br />AgriEdu gives access to online courses, tutorials, and community support focused on sustainable practices.</p>\n          <p><strong>Smart Farming with AI-powered Tools</strong><br />Use AI-based tools to detect plant diseases and boost productivity.</p>\n        </div>\n      </section>\n      <hr class="short-line" />\n      <section id="ourServices" class="services">\n        <h3>Our Services</h3>\n        <h2>Farming Made Smarter with AgriEdu</h2>\n        <div class="service-grid">\n          '.concat(n.length>0?n.map((function(t){return'\n                <div class="card">\n                  <img src="'.concat(t.icon,'" class="img-placeholder small" />\n                  <h4>').concat(t.title,"</h4>\n                  <p>").concat(t.description,'</p>\n                  <img src="').concat(t.image,'" class="card-image" />\n                </div>\n              ')})).join(""):'<div class="no-services">No services available</div>','\n        </div>\n      </section>\n      <footer id="signUp-login" class="main-footer">\n        <div class="cta-text">\n          <h2>Ready to Grow Smarter?</h2>\n          <p>Join AgriEdu today and start your journey toward sustainable farming.</p>\n          <div class="cta-buttons">\n            <button onclick="window.location.hash = \'/login\'">Login</button>\n            <button onclick="window.location.hash = \'/register\'" class="outline">SignUp</button>\n          </div>\n        </div>\n      </footer>\n      <div class="footer-bottom">\n        <p> 2025 AgriEdu. All rights reserved.</p>\n      </div>\n    '));case 2:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"afterRender",value:(n=H(R().mark((function t(){var e,n,r,o,a,i;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=document.querySelector("#logo-home"))&&e.addEventListener("click",(function(t){t.preventDefault(),window.location.hash="/home"})),(n=document.querySelector("#get-started-btn"))&&n.addEventListener("click",(function(){var t=document.getElementById("signUp-login");t&&t.scrollIntoView({behavior:"smooth",block:"start"})})),r=document.querySelector(".hamburger-menu"),o=document.querySelector(".nav-right"),r&&(r.addEventListener("click",(function(){r.classList.toggle("active"),o.classList.toggle("active")})),document.querySelectorAll(".nav-links li a").forEach((function(t){t.addEventListener("click",(function(){r.classList.remove("active"),o.classList.remove("active")}))}))),this.setupSmoothScrolling(),this.setupSearchFunctionality(),(a=document.querySelector(".cta-buttons .btn:not(.outline)"))&&a.addEventListener("click",(function(t){t.preventDefault(),window.location.hash="/login"})),(i=document.querySelector(".cta-buttons .btn.outline"))&&i.addEventListener("click",(function(t){t.preventDefault(),window.location.hash="/register"}));case 13:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"setupSmoothScrolling",value:function(){var t=this;console.log("Setting up smooth scrolling for landing page");var e=document.querySelectorAll(".scroll-link");if(console.log("Found ".concat(e.length," scroll links")),e.forEach((function(e,n){console.log("Setting up scroll link ".concat(n+1,": ").concat(e.getAttribute("href")));var r=e.cloneNode(!0);e.parentNode.replaceChild(r,e),r.addEventListener("click",(function(e){console.log("Scroll link clicked: ".concat(r.getAttribute("href"))),e.preventDefault();var n=r.getAttribute("href").substring(1);console.log("Target ID: ".concat(n));var o=document.getElementById(n);o?(console.log("Found target element, scrolling to it"),"scrollBehavior"in document.documentElement.style?o.scrollIntoView({behavior:"smooth",block:"start"}):t.smoothScrollPolyfill(o)):console.error('Target element with ID "'.concat(n,'" not found'))}))})),window.location.hash&&window.location.hash.startsWith("#")&&!window.location.hash.startsWith("#/")){var n=window.location.hash.substring(1),r=document.getElementById(n);r&&setTimeout((function(){r.scrollIntoView({behavior:"smooth",block:"start"})}),100)}}},{key:"smoothScrollPolyfill",value:function(t){var e=window.pageYOffset,n=t.getBoundingClientRect().top+e-e,r=null,o=function(t){null===r&&(r=t);var a,i,s,c=t-r,u=(a=c,i=e,s=n,(a/=250)<1?s/2*a*a+i:-s/2*(--a*(a-2)-1)+i);window.scrollTo(0,u),c<500&&requestAnimationFrame(o)};requestAnimationFrame(o)}},{key:"setupSearchFunctionality",value:function(){var t=this,e=document.querySelector(".search-form"),n=document.querySelector(".search-form input");e&&n&&(e.addEventListener("submit",(function(e){e.preventDefault(),t.performSearch(n.value.trim())})),n.addEventListener("keypress",(function(e){"Enter"===e.key&&(e.preventDefault(),t.performSearch(n.value.trim()))})),n.addEventListener("input",(function(e){var n=e.target.value.trim();n.length>2?t.highlightSearchResults(n):t.clearSearchHighlights()})))}},{key:"performSearch",value:function(t){if(t){console.log("Searching for: ".concat(t));var e=document.querySelectorAll(".card"),n=!1;e.forEach((function(e){var r,o,a=(null===(r=e.querySelector("h4"))||void 0===r?void 0:r.textContent.toLowerCase())||"",i=(null===(o=e.querySelector("p"))||void 0===o?void 0:o.textContent.toLowerCase())||"";if(a.includes(t.toLowerCase())||i.includes(t.toLowerCase()))return e.scrollIntoView({behavior:"smooth",block:"center"}),e.style.border="2px solid #7ac142",e.style.transform="scale(1.02)",n=!0,void setTimeout((function(){e.style.border="",e.style.transform=""}),3e3)})),n||document.querySelectorAll("section").forEach((function(e){if(e.textContent.toLowerCase().includes(t.toLowerCase()))return e.scrollIntoView({behavior:"smooth",block:"start"}),void(n=!0)})),n||Swal.fire({icon:"info",title:"Tidak ada hasil",text:'No results found for "'.concat(t,'". Try searching for terms like "learning", "community", "diagnosis", or "AI".'),showConfirmButton:!1,timer:4e3})}else Swal.fire({icon:"warning",title:"Pencarian kosong",text:"Please enter a search term",showConfirmButton:!1,timer:3e3})}},{key:"highlightSearchResults",value:function(t){console.log("Live search for: ".concat(t))}},{key:"clearSearchHighlights",value:function(){document.querySelectorAll(".card[style*='border']").forEach((function(t){t.style.border="",t.style.transform=""}))}}],e&&$(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function V(t){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V(t)}function Y(){Y=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==V(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(V(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function W(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function J(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){W(a,r,o,i,s,"next",t)}function s(t){W(a,r,o,i,s,"throw",t)}i(void 0)}))}}function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z(r.key),r)}}function Z(t){var e=function(t){if("object"!=V(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==V(e)?e:e+""}var Q=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.services=[{title:"Interactive Learning",description:"Online courses & tutorials on smart farming.",icon:"logo/Learning-Logo.png",image:"images/ServicesLearning-LandingPage.jpg"},{title:"Community Forum",description:"Forum to share and discuss with fellow farmers.",icon:"logo/Discuss-Logo.png",image:"images/ServicesComunity-LandingPage.jpg"},{title:"AI Plant Diagnosis",description:"Detect plant diseases instantly with AI.",icon:"logo/Diagnosa-Logo.png",image:"images/ServicesAi-LandingPage.jpg"},{title:"Chatbot & Assistant AI",description:"Chatbot & smart assistant for farming help.",icon:"logo/Chatbot-Logo.png",image:"images/ServicesChatbot-LandingPage.jpg"}]},e=[{key:"render",value:(r=J(Y().mark((function t(){var e,n;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("LandingPresenter render called, container:",this.container?"exists":"missing"),e=new K(this.container),t.next=5,e.render(this.services);case 5:return n=t.sent,t.abrupt("return",n);case 9:return t.prev=9,t.t0=t.catch(0),console.error("Error in LandingPresenter render:",t.t0),t.abrupt("return",'<div class="error-container">\n        <h2>Error Loading Landing Page</h2>\n        <p>'.concat(t.t0.message,"</p>\n      </div>"));case 13:case"end":return t.stop()}}),t,this,[[0,9]])}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(n=J(Y().mark((function t(){var e;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("LandingPresenter afterRender called"),t.prev=1,console.log("Creating LandingPage view instance"),e=new K(this.container),console.log("Calling view.afterRender()"),t.next=7,e.afterRender();case 7:console.log("View afterRender completed"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error("Error in LandingPresenter afterRender:",t.t0);case 13:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(){return n.apply(this,arguments)})}],e&&X(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(){et=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==tt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(tt(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function nt(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function rt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){nt(a,r,o,i,s,"next",t)}function s(t){nt(a,r,o,i,s,"throw",t)}i(void 0)}))}}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,at(r.key),r)}}function at(t){var e=function(t){if("object"!=tt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=tt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==tt(e)?e:e+""}var it=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"render",value:(r=rt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <section class="container">\n        <div class="logout-container">\n          <h1>Logging Out...</h1>\n          <p>Terima kasih telah menggunakan AgriEdu. Anda akan segera dialihkan.</p>\n          <div class="loader"></div>\n        </div>\n      </section>\n    ');case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(n=rt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Logging out user..."),t.next=4,j.logout();case 4:localStorage.removeItem("auth_token"),localStorage.removeItem("user_name"),console.log("Logout successful, redirecting..."),setTimeout((function(){window.location.hash="#/landing"}),2e3),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error("Logout error:",t.t0),setTimeout((function(){window.location.hash="#/landing"}),2e3);case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),function(){return n.apply(this,arguments)})}],e&&ot(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ct(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ut(r.key),r)}}function ut(t){var e=function(t){if("object"!=st(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=st(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==st(e)?e:e+""}var lt=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Model=e,this.View=n},e=[{key:"renderHome",value:function(){var t=this.View.render(this.Model.state),e=document.querySelector("#main-content");e?(e.innerHTML=t,this.bindEvents()):console.error("Main content container not found")}},{key:"changeView",value:function(t){this.Model.setView(t),this.renderHome()}},{key:"bindEvents",value:function(){var t=document.querySelector("#main-content");if(t){var e=t.querySelector("#learnBtn");e&&e.addEventListener("click",(function(){console.log("Navigating to learning page"),window.location.hash="#/learning"}));var n=t.querySelector("#communityBtn");n&&n.addEventListener("click",(function(){console.log("Navigating to community page"),window.location.hash="#/community"})),t.querySelectorAll(".card-home button").forEach((function(t){var e=t.closest(".card-home");e&&t.addEventListener("click",(function(){switch(e.getAttribute("id")){case"learnCard":console.log("Navigating to learning page from card"),window.location.hash="#/learning";break;case"diagnosisCard":console.log("Navigating to diagnosis page from card"),window.location.hash="#/diagnosis";break;case"communityCard":console.log("Navigating to community page from card"),window.location.hash="#/community";break;case"aiCard":console.log("Navigating to chatbot page from card"),window.location.hash="#/chatbot"}}))})),t.querySelectorAll(".card-home").forEach((function(t){var e=t.querySelector("button");e&&(t.style.cursor="pointer",t.addEventListener("click",(function(t){t.target!==e&&e.click()})),t.setAttribute("tabindex","0"),t.addEventListener("keydown",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.click())})))})),this._setActiveNav=this._setActiveNav.bind(this),this._setActiveNav(),window.addEventListener("hashchange",this._setActiveNav)}}},{key:"_setActiveNav",value:function(){var t=document.querySelectorAll(".app-nav a, .home-nav a"),e=window.location.hash;t.forEach((function(t){t.getAttribute("href")===e?t.classList.add("active"):t.classList.remove("active")}))}}],e&&ct(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ft(r.key),r)}}function ft(t){var e=function(t){if("object"!=ht(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ht(e)?e:e+""}var pt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.currentPath=e.currentPath||window.location.hash.slice(1),this.userInitial=e.userInitial||"A",this.showProfile=!1!==e.showProfile,this.customNavItems=e.navItems||null,this.defaultNavItems=[{href:"#/home",text:"Home",className:"nav-link"},{href:"#/learning",text:"Learning",className:"nav-link"},{href:"#/community",text:"Community",className:"nav-link"},{href:"#/diagnosis",text:"Diagnosis",className:"nav-link"},{href:"#/chatbot",text:"AI Assistant",className:"nav-link"}]}return e=t,n=[{key:"render",value:function(){var t=this,e=this.customNavItems||this.defaultNavItems;return'\n      <header class="app-navbar">\n        <div class="app-navbar-content">\n          <a href="#/home" class="app-logo">\n            <img src="logo/Main-Logo-Black.png" alt="AgriEdu" style="height: 52px; width: auto;">\n          </a>\n          <div class="app-menu-toggle" id="appMenuToggle">\n            <i class="fas fa-bars"></i>\n          </div>\n          <nav class="app-nav" id="appNavMenu">\n            '.concat(e.map((function(e){return'\n              <a href="'.concat(e.href,'" class="').concat(e.className," ").concat(t.isActive(e.href)?"active":"",'">').concat(e.text,"</a>\n            ")})).join(""),"\n            ").concat(this.showProfile?this.renderMobileProfileSection():"","\n          </nav>\n          ").concat(this.showProfile?this.renderProfileSection():"","\n        </div>\n      </header>\n    ")}},{key:"renderMobileProfileSection",value:function(){return'\n      <div class="user-profile-container mobile-only">\n        <a href="#/profile" class="app-profile-link">\n          <i class="fas fa-user"></i> Profile\n        </a>\n        <a href="#/logout" class="app-logout">\n          <i class="fas fa-sign-out-alt"></i> Logout\n        </a>\n      </div>\n    '}},{key:"renderProfileSection",value:function(){return'\n      <div class="user-profile-container">\n        <a href="#/logout" class="app-logout">\n          <i class="fas fa-sign-out-alt"></i> Logout\n        </a>\n        <div class="app-profile-icon">'.concat(this.userInitial,"</div>\n      </div>\n    ")}},{key:"isActive",value:function(t){var e=t.replace("#","");return this.currentPath===e||this.currentPath===e.substring(1)}},{key:"bindEvents",value:function(){this.setupMobileNavigation(),this.setupProfileEvents(),this.setupNavigationEvents()}},{key:"setupMobileNavigation",value:function(){var t=this,e=document.querySelector("#appMenuToggle"),n=document.querySelector("#appNavMenu");e&&n&&(this.menuToggle=e,this.appNav=n,e.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.toggleMobileMenu()})),document.addEventListener("click",(function(r){e.contains(r.target)||n.contains(r.target)||t.closeMobileMenu()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&t.closeMobileMenu()})),window.addEventListener("resize",(function(){window.innerWidth>1155&&t.closeMobileMenu()})))}},{key:"setupProfileEvents",value:function(){var t=document.querySelector(".app-profile-icon");t&&t.addEventListener("click",(function(){window.location.hash="#/profile"}))}},{key:"setupNavigationEvents",value:function(){var t=this;document.querySelectorAll(".app-nav a").forEach((function(e){e.addEventListener("click",(function(){t.closeMobileMenu(),t.updateActiveLink(e.getAttribute("href"))}))}))}},{key:"toggleMobileMenu",value:function(){this.appNav&&this.menuToggle&&(this.appNav.classList.contains("show")?this.closeMobileMenu():this.openMobileMenu())}},{key:"openMobileMenu",value:function(){if(this.appNav&&this.menuToggle){this.appNav.classList.add("show"),this.menuToggle.classList.add("active");var t=this.menuToggle.querySelector("i");t&&(t.classList.remove("fa-bars"),t.classList.add("fa-times")),document.body.style.overflow="hidden"}}},{key:"closeMobileMenu",value:function(){if(this.appNav&&this.menuToggle){this.appNav.classList.remove("show"),this.menuToggle.classList.remove("active");var t=this.menuToggle.querySelector("i");t&&(t.classList.remove("fa-times"),t.classList.add("fa-bars")),document.body.style.overflow=""}}},{key:"updateActiveLink",value:function(t){document.querySelectorAll(".app-nav a").forEach((function(e){e.getAttribute("href")===t?e.classList.add("active"):e.classList.remove("active")}))}},{key:"updateUserInitial",value:function(t){this.userInitial=t;var e=document.querySelector(".app-profile-icon");e&&(e.textContent=t)}}],r=[{key:"create",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}}],n&&dt(e.prototype,n),r&&dt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function mt(t){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(t)}function vt(){vt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==mt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(mt(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function gt(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function yt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){gt(a,r,o,i,s,"next",t)}function s(t){gt(a,r,o,i,s,"throw",t)}i(void 0)}))}}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bt(r.key),r)}}function bt(t){var e=function(t){if("object"!=mt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==mt(e)?e:e+""}const Et=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.Model={state:{view:"home",user:{initial:"A",isAuthenticated:!1}},setView:function(t){e.Model.state.view=t},setUserAuth:function(t){e.Model.state.user.isAuthenticated=t}},this.View={render:function(t){return e.View.templates[t.view](t)},templates:{home:function(t){var e=new pt({currentPath:window.location.hash.slice(1),userInitial:t.user.initial,showProfile:!0});return'\n          <div class="home-container">\n            '.concat(e.render(),'\n\n            <main>\n              <section class="hero">\n                <div class="hero-content">\n                  <h1>Selamat datang di AgriE<span class="green">d</span>u!</h1>\n                  <p>Belajar, berbagi, dan diagnosa tanaman dengan teknologi AI.</p>\n                  <p>Semoga pengalaman Anda menyenangkan!</p>\n                  <div class="hero-buttons">\n                    <button class="green" id="learnBtn">Mulai Belajar</button>\n                    <button class="white" id="communityBtn">Gabung Komunitas</button>\n                  </div>\n                </div>\n              </section>\n\n              <section class="main-activities">\n                <div class="section-header">\n                  <div class="logo-circle">\n                    <img src="logo/Home-Activity.png" alt="Aktivitas Icon" class="header-icon">\n                  </div>\n                  <h2>Aktivitas Utama</h2>\n                </div>\n\n                <hr>\n                <div class="grid-container-home">\n                  <div class="card-home" id="learnCard">\n                      <img src="logo/Learning-Main.png" alt="Pembelajaran" class="card-icon" />\n                    <div class="card-content">\n                      <h3>Pembelajaran Interaktif</h3>\n                      <p>Tersedia materi bertahap sesuai kategori Anda untuk memahami dunia pertanian dengan cara yang praktis dan menyenangkan.</p>\n                    </div>\n                    <button class="lihat-btn">Lihat</button>\n                  </div>\n\n                  <div class="card-home" id="diagnosisCard">\n                    <img src="logo/Diagnose-Main.png" alt="Diagnosa" class="card-icon" />\n                    <div class="card-content">\n                      <h3>Diagnosa Tanaman</h3>\n                      <p>Unggah foto, lalu biarkan AI membantu mengidentifikasi masalah dan memberi saran penanganan.</p>\n                    </div>\n                    <button>Lihat</button>\n                  </div>\n\n                  <div class="card-home" id="communityCard">\n                    <img src="logo/comunityhome.png" alt="Komunitas" class="card-icon" />\n                    <div class="card-content">\n                      <h3>Komunitas Tani</h3>\n                      <p>Forum untuk bertanya, memberi saran, dan saling dukung antar petani, pelajar, maupun pegiat pertanian.</p>\n                    </div>\n                    <button>Lihat</button>\n                  </div>\n\n                  <div class="card-home" id="aiCard">\n                    <img src="logo/Ai.png" alt="ai" class="card-icon" />\n                    <div class="card-content">\n                      <h3>Asisten AI & ChatBot</h3>\n                      <p>Chatbot cerdas yang siap bantu menjawab pertanyaan tentang tanaman, pembelajaran, dan fitur aplikasi.</p>\n                    </div>\n                    <button>Lihat</button>\n                  </div>\n                </div>\n              </section>\n            </main>\n\n            <footer class="home-footer">\n              <p>&copy; 2025 AgriEdu. All rights reserved.</p>\n            </footer>\n          </div>\n        ')}}},this.Presenter=new lt(this.Model,this.View)},e=[{key:"render",value:(r=yt(vt().mark((function t(){var e;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("HomePage render called"),this.checkAuthStatus(),e=this.View.render(this.Model.state),t.abrupt("return",e);case 7:return t.prev=7,t.t0=t.catch(0),console.error("Error in HomePage render:",t.t0),t.abrupt("return",'<div class="error-container">\n        <h2>Error Loading Home Page</h2>\n        <p>'.concat(t.t0.message,"</p>\n      </div>"));case 11:case"end":return t.stop()}}),t,this,[[0,7]])}))),function(){return r.apply(this,arguments)})},{key:"checkAuthStatus",value:function(){try{var t=localStorage.getItem("agriedu_auth_token"),e=localStorage.getItem("auth_token");t||e||(localStorage.setItem("agriedu_auth_token","demo-token-"+Date.now()),localStorage.setItem("user_name","AgriEdu User"));var n=t||e;if(this.Model.setUserAuth(!!n),n){var r=localStorage.getItem("user_name")||"User";this.Model.state.user.initial=r.charAt(0).toUpperCase(),console.log("User is authenticated:",r)}else console.log("User is not authenticated")}catch(t){console.error("Error checking auth status:",t)}}},{key:"afterRender",value:(n=yt(vt().mark((function t(){var e,n;return vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log("HomePage afterRender called"),this.Presenter.bindEvents(),new pt({currentPath:window.location.hash.slice(1),userInitial:this.Model.state.user.initial,showProfile:!0}).bindEvents(),(e=window.location.hash.split("?")).length>1&&"true"===new URLSearchParams(e[1]).get("welcome")&&(n=localStorage.getItem("user_name")||"User",Swal.fire({icon:"success",title:"Selamat datang, ".concat(n,"!"),text:"Setup berhasil diselesaikan! Selamat menjelajahi fitur-fitur AgriEdu.",showConfirmButton:!1,timer:4e3}),window.history.replaceState(null,null,"#/home"))}catch(t){console.error("Error in HomePage afterRender:",t)}case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}],e&&wt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tt(r.key),r)}}function jt(t,e,n){return(e=Tt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tt(t){var e=function(t){if("object"!=kt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==kt(e)?e:e+""}var Ot=[{type:"article",title:"Budidaya Tomat: Petunjuk, Persiapan, Pemupukan, Pemeliharaan",description:"Panduan lengkap budidaya tomat dari persiapan lahan hingga pemeliharaan untuk hasil optimal.",url:"https://www.nabilzaydan.com/2024/03/budidaya-padi-organik-panduan-lengkap.html",category:{experience:"pemula",plantType:"sayuran",method:"konvensional"},isFavorite:!1},{type:"article",title:"Mengenal 25 Jenis Tanaman Obat dan Manfaatnya",description:"Pelajari berbagai jenis tanaman obat yang mudah ditanam dan manfaatnya untuk kesehatan.",url:"https://yiari.or.id/tanaman-obat/",category:{experience:"menengah",plantType:"lainnya",method:"organik"},isFavorite:!0},{type:"article",title:"Penyakit Tanaman: Pengertian, Gejala, Beserta Jenisnya",description:"Mengenal berbagai penyakit tanaman, gejala yang muncul, dan cara penanganannya.",url:"https://indotechsci.co.id/penyakit-pada-tumbuhan-penyebab-gejala-dan-pengendaliannya/",category:{experience:"lanjutan",plantType:"lainnya",method:"konvensional"},isFavorite:!1}];function At(t){var e=t.match(/(?:youtu\.be\/|youtube\.com\/watch\?v=)([^&?/]+)/);return e?"https://img.youtube.com/vi/".concat(e[1],"/hqdefault.jpg"):"/images/default-video-thumb.jpg"}var _t=[{type:"video",title:"Cara Memulai berkebun untuk Pemula",description:"Pelajari cara mudah memulai berkebun untuk pemula dan rekomendasi tanaman yang cocok dirawat di rumah. Cocok untuk kamu yang baru mulai!",url:"https://www.youtube.com/watch?v=W9bdw_YO84Q",thumbnail:At("https://www.youtube.com/watch?v=W9bdw_YO84Q"),category:{experience:"pemula",plantType:"sayuran",method:"hidroponik"},isFavorite:!0},{type:"video",title:"Cara Menanam Buah Naga dalam Pot",description:"Langkah mudah menanam buah naga dalam pot agar tanaman sehat dan cepat berbuah di rumah. Tips praktis dan efektif!",url:"https://www.youtube.com/watch?v=K01zRSw-Xgk",thumbnail:At("https://www.youtube.com/watch?v=K01zRSw-Xgk"),category:{experience:"lanjutan",plantType:"tanaman-hias",method:"konvensional"},isFavorite:!1},{type:"video",title:"Cara Menanam Tanaman Hias Agar Tumbuh Subur di Depan Rumah",description:"Langkah-langkah praktis menanam dan merawat tanaman hias agar tumbuh sehat dan subur di halaman depan rumah. Pelajari teknik perawatan dan penempatan yang tepat untuk hasil maksimal",url:"https://www.youtube.com/watch?v=vsGp3IXQa_o",thumbnail:At("https://www.youtube.com/watch?v=vsGp3IXQa_o"),category:{experience:"lanjutan",plantType:"tanaman-hias",method:"konvensional"},isFavorite:!1}],Ct=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"loadFavorites",value:function(){try{var t=localStorage.getItem(this.FAVORITES_KEY);return t?JSON.parse(t):{articles:[],videos:[]}}catch(t){return console.error("Error loading favorites:",t),{articles:[],videos:[]}}}},{key:"saveFavorites",value:function(t){try{localStorage.setItem(this.FAVORITES_KEY,JSON.stringify(t))}catch(t){console.error("Error saving favorites:",t)}}},{key:"loadRecentLearning",value:function(){try{var t=localStorage.getItem(this.RECENT_LEARNING_KEY);return t?JSON.parse(t):[]}catch(t){return console.error("Error loading recent learning:",t),[]}}},{key:"saveRecentLearning",value:function(t){try{var e=t.slice(0,5);localStorage.setItem(this.RECENT_LEARNING_KEY,JSON.stringify(e))}catch(t){console.error("Error saving recent learning:",t)}}},{key:"addToRecentLearning",value:function(t){var e=this.loadRecentLearning().filter((function(e){return e.url!==t.url}));e.unshift(St(St({},t),{},{timestamp:Date.now()})),this.saveRecentLearning(e)}},{key:"initializeFavorites",value:function(){var t=this.loadFavorites();Ot.forEach((function(e,n){e.isFavorite=t.articles.includes(n)})),_t.forEach((function(e,n){e.isFavorite=t.videos.includes(n)}))}},{key:"toggleFavorite",value:function(t,e){var n=this.loadFavorites(),r="video"===e?_t:Ot,o="video"===e?n.videos:n.articles;if(r[t].isFavorite=!r[t].isFavorite,r[t].isFavorite)o.includes(t)||o.push(t);else{var a=o.indexOf(t);a>-1&&o.splice(a,1)}this.saveFavorites(n)}}],null&&Pt(t.prototype,null),e&&Pt(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function It(t,e){t.innerHTML="",e.forEach((function(e,n){var r=document.createElement("div");r.className="learning-item";var o=e.isFavorite?"fas fa-heart":"far fa-heart",a=e.isFavorite?"favorite-active":"";r.innerHTML='\n      <div class="learning-item-header">\n        <h4 class="article-title" data-url="'.concat(e.url,'">').concat(e.title,'</h4>\n        <button class="favorite-btn ').concat(a,'" data-index="').concat(n,'" data-type="').concat(e.type,'">\n          <i class="').concat(o,'"></i>\n        </button>\n      </div>\n      <p class="learning-item-description">').concat(e.description||"","</p>\n    "),r.querySelector(".article-title").addEventListener("click",(function(){var t;t=e,Ct.addToRecentLearning({type:t.type,title:t.title,description:t.description,url:t.url}),window.open(e.url,"_blank")})),t.appendChild(r)}))}function Lt(t,e){t.innerHTML="",e.forEach((function(e,n){var r=document.createElement("div");r.className="video-item";var o,a=e.isFavorite?"fas fa-heart":"far fa-heart",i=e.isFavorite?"favorite-active":"",s=(o=e.url.match(/(?:youtu\.be\/|youtube\.com\/watch\?v=)([^&?/]+)/))?"https://img.youtube.com/vi/".concat(o[1],"/hqdefault.jpg"):"/images/default-video-thumb.jpg";r.innerHTML='\n      <div class="video-thumbnail">\n        <div class="video-play-overlay">\n          <i class="fas fa-play"></i>\n        </div>\n        <img src="'.concat(s,'" alt="').concat(e.title,'" onerror="this.src=\'/images/default-video-thumb.jpg\'">\n      </div>\n      <div class="video-content">\n        <div class="video-header">\n          <h4>').concat(e.title,'</h4>\n          <button class="favorite-btn ').concat(i,'" data-index="').concat(n,'" data-type="video">\n            <i class="').concat(a,'"></i>\n          </button>\n        </div>\n        <p class="video-description">').concat(e.description,"</p>\n      </div>\n    "),r.addEventListener("click",(function(t){t.target.closest(".favorite-btn")||Nt(e)})),t.appendChild(r)}))}function Bt(t,e,n){Ct.toggleFavorite(t,e);var r="video"===e?_t:Ot,o=n.querySelector("i");r[t].isFavorite?(o.className="fas fa-heart",n.classList.add("favorite-active")):(o.className="far fa-heart",n.classList.remove("favorite-active"))}function Nt(t){var e,n=(e=t.url.match(/(?:youtu\.be\/|youtube\.com\/watch\?v=)([^&?/]+)/))?"https://www.youtube.com/embed/".concat(e[1]):null;if(n){Ct.addToRecentLearning({type:t.type,title:t.title,description:t.description,url:t.url,thumbnail:t.thumbnail});var r=document.createElement("div");r.className="video-modal",r.innerHTML='\n    <div class="video-modal-content">\n      <button class="video-modal-close">&times;</button>\n      <iframe src="'.concat(n,'" frameborder="0" allowfullscreen></iframe>\n    </div>\n  '),document.body.appendChild(r),r.addEventListener("click",(function(t){(t.target===r||t.target.classList.contains("video-modal-close"))&&(document.body.removeChild(r),a())})),window.addEventListener("keydown",o)}else Swal.fire({icon:"error",title:"Video tidak valid",text:"Video URL tidak valid dan tidak bisa diputar.",showConfirmButton:!1,timer:3e3});function o(t){"Escape"===t.key&&document.body.contains(r)&&(document.body.removeChild(r),a())}function a(){window.removeEventListener("keydown",o)}}function Ft(t){var e=Ct.loadRecentLearning();t&&(0!==e.length?(t.innerHTML=e.map((function(t){return"video"===t.type?'\n        <div class="recent-video-item" data-url="'.concat(t.url,'">\n          <div class="recent-video-thumbnail">\n            <div class="video-play-overlay">\n              <i class="fas fa-play"></i>\n            </div>\n            <img src="').concat(t.thumbnail||"/images/default-video-thumb.jpg",'"\n                 alt="').concat(t.title,'"\n                 onerror="this.src=\'/images/default-video-thumb.jpg\'">\n          </div>\n          <div class="recent-video-content">\n            <h5>').concat(t.title,"</h5>\n            <p>").concat(t.description,'</p>\n            <small class="recent-timestamp">').concat(Gt(t.timestamp),"</small>\n          </div>\n        </div>\n      "):'\n        <div class="recent-article-item" data-url="'.concat(t.url,'">\n          <div class="recent-article-content">\n            <h5>').concat(t.title,"</h5>\n            <p>").concat(t.description,'</p>\n            <small class="recent-timestamp">').concat(Gt(t.timestamp),"</small>\n          </div>\n        </div>\n      ")})).join(""),t.querySelectorAll(".recent-video-item").forEach((function(t){t.addEventListener("click",(function(){var e=t.dataset.url,n=_t.find((function(t){return t.url===e}));n&&Nt(n)}))})),t.querySelectorAll(".recent-article-item").forEach((function(t){t.addEventListener("click",(function(){var e=t.dataset.url;window.open(e,"_blank")}))}))):t.innerHTML='\n      <div class="no-recent-learning">\n        <p>Belum ada pembelajaran yang baru saja dipelajari.</p>\n        <p>Mulai belajar dengan mengklik artikel atau video di atas!</p>\n      </div>\n    ')}function Gt(t){var e=Date.now()-t,n=Math.floor(e/6e4),r=Math.floor(e/36e5),o=Math.floor(e/864e5);return n<1?"Baru saja":n<60?"".concat(n," menit yang lalu"):r<24?"".concat(r," jam yang lalu"):o<7?"".concat(o," hari yang lalu"):new Date(t).toLocaleDateString("id-ID")}function Dt(t,e){t.addEventListener("click",(function(t){if(t.target.closest(".favorite-btn")){var e=t.target.closest(".favorite-btn");Bt(parseInt(e.dataset.index),e.dataset.type,e)}})),e.addEventListener("click",(function(t){if(t.target.closest(".favorite-btn")){t.stopPropagation();var e=t.target.closest(".favorite-btn");Bt(parseInt(e.dataset.index),"video",e)}}))}function Mt(t){return Mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mt(t)}function Ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rt(r.key),r)}}function Rt(t){var e=function(t){if("object"!=Mt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Mt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Mt(e)?e:e+""}jt(Ct,"FAVORITES_KEY","agriedu_favorites"),jt(Ct,"RECENT_LEARNING_KEY","agriedu_recent_learning");var qt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=(localStorage.getItem("user_name")||"User").charAt(0).toUpperCase();this.navbar=new pt({currentPath:window.location.hash.slice(1),userInitial:e,showProfile:!0})},e=[{key:"render",value:function(){return'\n      <div class="learning-page">\n        '.concat(this.navbar.render(),'\n        <div class="learning-content">\n          <h2>Galeri <span class="highlight">Bertani</span></h2>\n\n          <div class="gallery-carousel">\n            <button\n              class="gallery-carousel-nav gallery-carousel-left"\n              id="gallery-prev"\n              aria-label="Previous gallery slide"\n              title="Previous"\n            >\n              <i class="fa fa-chevron-left"></i>\n            </button>\n            <div class="gallery-carousel-track-wrapper">\n              <div class="gallery-carousel-track" id="gallery-track">\n                <div class="gallery-slide"><img src="/images/Galeri1.jpg" alt="gallery1" /></div>\n                <div class="gallery-slide"><img src="/images/Galeri2.jpg" alt="gallery2" /></div>\n                <div class="gallery-slide"><img src="/images/Galeri3.jpg" alt="gallery3" /></div>\n                <div class="gallery-slide"><img src="/images/Galeri4.jpg" alt="gallery4" /></div>\n                <div class="gallery-slide"><img src="/images/Galeri5.jpg" alt="gallery5" /></div>\n                <div class="gallery-slide"><img src="/images/Galeri6.jpg" alt="gallery6" /></div>\n              </div>\n            </div>\n            <button\n              class="gallery-carousel-nav gallery-carousel-right"\n              id="gallery-next"\n              aria-label="Next gallery slide"\n              title="Next"\n            >\n              <i class="fa fa-chevron-right"></i>\n            </button>\n          </div>\n\n          <section class="learning-section">\n            <h3>Mulai pembelajaran</h3>\n\n            <div class="learning-main">\n              <div class="learning-content-area">\n                <div class="learning-search">\n                  <input\n                    type="text"\n                    id="search"\n                    placeholder="Search Title"\n                    aria-label="Search learning materials"\n                  />\n                  <i class="fa fa-search search-icon"></i>\n                </div>\n                <div id="article-grid" class="learning-grid"></div>\n              </div>\n\n              <aside class="learning-filter-panel">\n                <h4><i class="fa fa-filter"></i> Filter Materi</h4>\n\n                <div class="filter-group">\n                  <strong>Pengalaman</strong>\n                  <label><input type="checkbox" value="pemula" name="experience" /> Pemula</label>\n                  <label><input type="checkbox" value="menengah" name="experience" /> Menengah</label>\n                  <label><input type="checkbox" value="lanjutan" name="experience" /> Lanjutan</label>\n                </div>\n\n                <div class="filter-group">\n                  <strong>Jenis Tanaman</strong>\n                  <label><input type="checkbox" value="sayuran" name="plantType" /> Sayuran</label>\n                  <label><input type="checkbox" value="buah" name="plantType" /> Buah</label>\n                  <label><input type="checkbox" value="tanaman-hias" name="plantType" /> Tanaman Hias</label>\n                  <label><input type="checkbox" value="lainnya" name="plantType" /> Lainnya</label>\n                </div>\n\n                <div class="filter-group">\n                  <strong>Metode</strong>\n                  <label><input type="checkbox" value="konvensional" name="method" /> Konvensional</label>\n                  <label><input type="checkbox" value="hidroponik" name="method" /> Hidroponik</label>\n                  <label><input type="checkbox" value="organik" name="method" /> Organik</label>\n                  <label><input type="checkbox" value="lainnya" name="method" /> Lainnya</label>\n                </div>\n\n                <hr />\n                <button class="favorite-filter-btn" id="favorite-filter" aria-label="Filter favorites" title="Lihat Favorite">\n                  <i class="fa fa-heart"></i> Lihat Favorite\n                </button>\n              </aside>\n            </div>\n\n            <section class="video-section">\n              <h3>Video Pembelajaran Terkait</h3>\n              <div id="video-grid" class="video-grid"></div>\n            </section>\n\n            <section class="recent-learning">\n              <h3>Baru saja dipelajari</h3>\n              <div class="recent-learning-content" id="recent-learning-container">\n                \x3c!-- Recent learning items will be rendered here dynamically --\x3e\n              </div>\n            </section>\n          </section>\n        </div>\n        <footer class="page-footer">\n          <p>&copy; 2025 AgriEdu. All rights reserved.</p>\n        </footer>\n      </div>\n    ')}},{key:"afterRender",value:function(){var t=this;Ct.initializeFavorites();var e=document.getElementById("article-grid"),n=document.getElementById("video-grid"),r=document.getElementById("recent-learning-container");It(e,Ot),Lt(n,_t),Ft(r),Dt(e,n),this.setupSearchAndFilters(e,n);var o=document.getElementById("favorite-filter"),a=!1;o.addEventListener("click",(function(){(a=!a)?(o.classList.add("active"),o.innerHTML='<i class="fa fa-heart"></i> Semua Materi',t.applyFilters(e,n,{showFavorites:!0})):(o.classList.remove("active"),o.innerHTML='<i class="fa fa-heart"></i> Lihat Favorite',t.applyFilters(e,n))})),this.addClearFiltersButton(e,n),this.setupGalleryCarousel(),this.navbar.bindEvents()}},{key:"setupSearchAndFilters",value:function(t,e){var n=this;document.getElementById("search").addEventListener("input",(function(){n.applyFilters(t,e)})),document.querySelectorAll('.learning-filter-panel input[type="checkbox"]').forEach((function(r){r.addEventListener("change",(function(){n.applyFilters(t,e)}))}))}},{key:"applyFilters",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.getElementById("search").value||"",o=this.getActiveFilters();Object.assign(o,n);var a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ot.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));return e.experience&&e.experience.length>0&&(n=n.filter((function(t){return e.experience.includes(t.category.experience)}))),e.plantType&&e.plantType.length>0&&(n=n.filter((function(t){return e.plantType.includes(t.category.plantType)}))),e.method&&e.method.length>0&&(n=n.filter((function(t){return e.method.includes(t.category.method)}))),e.showFavorites&&(n=n.filter((function(t){return t.isFavorite}))),n}(r,o),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=_t.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())}));return e.experience&&e.experience.length>0&&(n=n.filter((function(t){return e.experience.includes(t.category.experience)}))),e.plantType&&e.plantType.length>0&&(n=n.filter((function(t){return e.plantType.includes(t.category.plantType)}))),e.method&&e.method.length>0&&(n=n.filter((function(t){return e.method.includes(t.category.method)}))),e.showFavorites&&(n=n.filter((function(t){return t.isFavorite}))),n}(r,o);It(t,a),Lt(e,i),Dt(t,e);var s=document.getElementById("recent-learning-container");s&&Ft(s)}},{key:"addClearFiltersButton",value:function(t,e){var n=this,r=document.querySelector(".learning-filter-panel");if(r){var o=document.createElement("button");o.className="clear-filters-btn",o.innerHTML='<i class="fa fa-times"></i> Hapus Semua Filter';var a=r.querySelector("hr");a&&a.nextSibling?a.parentNode.insertBefore(o,a.nextSibling.nextSibling):r.appendChild(o),o.addEventListener("click",(function(){document.getElementById("search").value="",document.querySelectorAll('.learning-filter-panel input[type="checkbox"]').forEach((function(t){t.checked=!1}));var r=document.getElementById("favorite-filter");r.classList.remove("active"),r.innerHTML='<i class="fa fa-heart"></i> Lihat Favorite',n.applyFilters(t,e)}))}}},{key:"getActiveFilters",value:function(){var t={experience:[],plantType:[],method:[]};return document.querySelectorAll('input[name="experience"]:checked').forEach((function(e){return t.experience.push(e.value)})),document.querySelectorAll('input[name="plantType"]:checked').forEach((function(e){return t.plantType.push(e.value)})),document.querySelectorAll('input[name="method"]:checked').forEach((function(e){return t.method.push(e.value)})),t}},{key:"setupGalleryCarousel",value:function(){var t=document.getElementById("gallery-track"),e=document.getElementById("gallery-prev"),n=document.getElementById("gallery-next"),r=t?t.querySelectorAll(".gallery-slide"):[];if(t&&e&&n&&0!==r.length){var o=2,a=r.length,i=function(){if(r.length){r.forEach((function(t,e){t.classList.remove("active","dimmed");var n=e-o;0===n?t.classList.add("active"):Math.abs(n)<=2&&t.classList.add("dimmed")}));var e=r[0],n=window.getComputedStyle(e),a=e.offsetWidth+parseFloat(n.marginLeft)+parseFloat(n.marginRight),i=t.parentElement.offsetWidth,s=-o*a+i/2-a/2;t.style.transform="translateX(".concat(s,"px)")}};e.addEventListener("click",(function(){o=(o-1+a)%a,i()})),n.addEventListener("click",(function(){o=(o+1)%a,i()})),i(),window.addEventListener("resize",i)}else console.error("Gallery carousel elements not found")}}],e&&Ut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Ht(t){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ht(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zt(r.key),r)}}function zt(t){var e=function(t){if("object"!=Ht(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ht(e)?e:e+""}var Kt=function(){return t=function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.chatContainer=e,this.inputElement=n,this.sendButton=r,this.sendButton.addEventListener("click",(function(){return o.handleSendMessage()})),this.inputElement.addEventListener("keypress",(function(t){"Enter"===t.key&&o.handleSendMessage()}))},(e=[{key:"handleSendMessage",value:function(){var t=this,e=this.inputElement.value.trim();if(e){this.appendMessage("You",e),this.inputElement.value="";var n=this.generateBotReply(e);setTimeout((function(){t.appendMessage("Bot",n)}),500)}}},{key:"generateBotReply",value:function(t){var e=t.toLowerCase();return e.includes("halo")?"Halo juga! Ada yang bisa saya bantu?":e.includes("siapa kamu")?"Saya adalah chatbot sederhana.":e.includes("terima kasih")?"Sama-sama! Senang bisa membantu.":"Maaf, saya belum mengerti pesan itu."}},{key:"appendMessage",value:function(t,e){var n=document.createElement("div");n.classList.add("chat-message","You"===t?"user-message":"bot-message"),n.textContent="".concat(t,": ").concat(e),this.chatContainer.appendChild(n),this.chatContainer.scrollTop=this.chatContainer.scrollHeight}}])&&$t(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Yt(){Yt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Vt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Vt(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Wt(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Jt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Wt(a,r,o,i,s,"next",t)}function s(t){Wt(a,r,o,i,s,"throw",t)}i(void 0)}))}}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zt(r.key),r)}}function Zt(t){var e=function(t){if("object"!=Vt(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Vt(e)?e:e+""}var Qt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"render",value:(r=Jt(Yt().mark((function t(){var e,n,r;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("user_name")||"User",n=e.charAt(0).toUpperCase(),r=new pt({currentPath:window.location.hash.slice(1),userInitial:n,showProfile:!0}),t.abrupt("return",'\n  <div class="chatbot-fullscreen-container">\n    '.concat(r.render(),'\n    <section class="chatbot-wrapper">\n      <h1 class="chatbot-welcome typing">\n  <span class="text">Hai, selamat datang di ChatBot AgriEdu!</span><span class="cursor"></span>\n</h1>\n<p class="chatbot-desc typing-desc">\n  <span class="text">Tanyakan apa saja pada ChatBot AgriEdu perihal tanamanmu</span><span class="cursor"></span>\n</p>\n<hr/>\n\n      <div id="chat-container" class="chat-container"></div>\n      <div class="input-container">\n        <input type="text" id="chat-input" placeholder="Ketik pesan..." autocomplete="off" />\n        <button id="send-btn">Kirim</button>\n      </div>\n    </section>\n  </div>\n'));case 4:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(n=Jt(Yt().mark((function t(){var e,n,r;return Yt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setupNavigationEvents(),e=document.getElementById("chat-container"),n=document.getElementById("chat-input"),r=document.getElementById("send-btn"),this.chatbot=new Kt(e,n,r);case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"setupNavigationEvents",value:function(){var t=(localStorage.getItem("user_name")||"User").charAt(0).toUpperCase();new pt({currentPath:window.location.hash.slice(1),userInitial:t,showProfile:!0}).bindEvents()}}],e&&Xt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function te(t){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(t)}function ee(){ee=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==te(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(te(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function ne(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=re(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function re(t,e){if(t){if("string"==typeof t)return oe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(t,e):void 0}}function oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ae(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function ie(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){ae(a,r,o,i,s,"next",t)}function s(t){ae(a,r,o,i,s,"throw",t)}i(void 0)}))}}const se=function(t){return ie(ee().mark((function e(){var r,o,a,i,s,c,u,l,h,d;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="".concat(n.BASE_URL).concat(n.API_ENDPOINTS.POSTS.CREATE),o=j.getToken()){e.next=4;break}throw new Error("Anda belum login. Silakan login terlebih dahulu.");case 4:console.log("Creating post with API:",r),console.log("FormData contents:"),a=ne(t.entries());try{for(a.s();!(i=a.n()).done;)f=i.value,p=2,s=function(t){if(Array.isArray(t))return t}(f)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(f,p)||re(f,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],console.log("".concat(c,":"),u)}catch(t){a.e(t)}finally{a.f()}return e.prev=8,e.next=11,fetch(r,{method:"POST",headers:{Authorization:"Bearer ".concat(o)},body:t});case 11:return l=e.sent,console.log("Create post response status:",l.status),e.next=15,l.text();case 15:h=e.sent,console.log("Create post response text:",h),d={},e.prev=18,d=h?JSON.parse(h):{},e.next=26;break;case 22:throw e.prev=22,e.t0=e.catch(18),console.warn("Failed to parse JSON response:",e.t0),new Error("Server returned invalid response");case 26:if(l.ok){e.next=37;break}e.t1=l.status,e.next=401===e.t1?30:403===e.t1?32:413===e.t1?33:422===e.t1?34:500===e.t1?35:36;break;case 30:throw j.clearAuthData(),new Error("Sesi Anda telah berakhir. Silakan login kembali.");case 32:throw new Error("Anda tidak memiliki izin untuk membuat post.");case 33:throw new Error("File yang diunggah terlalu besar.");case 34:throw new Error(d.message||"Data yang dikirim tidak valid.");case 35:throw new Error("Terjadi kesalahan pada server. Silakan coba lagi.");case 36:throw new Error(d.message||"Gagal membuat post. Status: ".concat(l.status));case 37:return console.log("Post created successfully:",d),e.abrupt("return",{success:!0,data:d.data||d});case 41:if(e.prev=41,e.t2=e.catch(8),console.error("Error in createPost:",e.t2),!(e.t2 instanceof TypeError&&e.t2.message.includes("fetch"))){e.next=46;break}throw new Error("Tidak dapat terhubung ke server. Periksa koneksi internet Anda.");case 46:throw e.t2;case 47:case"end":return e.stop()}var f,p}),e,null,[[8,41],[18,22]])})))()},ce=function(){return ie(ee().mark((function t(){var e,r,o,a,i,s;return ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(n.BASE_URL).concat(n.API_ENDPOINTS.POSTS.GET_ALL),r=j.getToken(),console.log("Fetching posts from:",e),t.prev=3,o={"Content-Type":"application/json"},r&&(o.Authorization="Bearer ".concat(r)),t.next=8,fetch(e,{method:"GET",headers:o});case 8:if((a=t.sent).ok){t.next=11;break}throw new Error("HTTP ".concat(a.status,": ").concat(a.statusText));case 11:return t.next=13,a.json();case 13:return i=t.sent,console.log("Posts API response:",i),s=[],i.data&&Array.isArray(i.data)?s=i.data:Array.isArray(i)?s=i:(console.warn("Unexpected response structure:",i),s=[]),console.log("Found ".concat(s.length," posts")),t.abrupt("return",{success:!0,data:s});case 21:if(t.prev=21,t.t0=t.catch(3),console.error("Error in getAllPosts:",t.t0),!(t.t0 instanceof TypeError&&t.t0.message.includes("fetch"))){t.next=26;break}throw new Error("Tidak dapat terhubung ke server. Periksa koneksi internet Anda.");case 26:throw t.t0;case 27:case"end":return t.stop()}}),t,null,[[3,21]])})))()},ue=function(t){return ie(ee().mark((function e(){var r,o,a,i,s,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n.BASE_URL).concat(n.API_ENDPOINTS.POSTS.GET_BY_ID).concat(t),o=j.getToken(),e.prev=2,a={"Content-Type":"application/json"},o&&(a.Authorization="Bearer ".concat(o)),e.next=7,fetch(r,{method:"GET",headers:a});case 7:return i=e.sent,console.log("Get post by ID response status:",i.status),e.next=11,i.text();case 11:s=e.sent,console.log("Get post by ID response text:",s),c={};try{c=s?JSON.parse(s):{}}catch(t){console.warn("Failed to parse JSON response:",t),c={rawResponse:s}}if(i.ok){e.next=17;break}throw new Error(c.message||"Gagal mengambil detail post. Status: ".concat(i.status));case 17:return e.abrupt("return",{success:!0,data:c.data||c});case 20:if(e.prev=20,e.t0=e.catch(2),console.error("Error in getPostById:",e.t0),!(e.t0 instanceof TypeError&&e.t0.message.includes("fetch"))){e.next=25;break}throw new Error("Tidak dapat terhubung ke server. Periksa koneksi internet Anda.");case 25:throw e.t0;case 26:case"end":return e.stop()}}),e,null,[[2,20]])})))()},le=function(t){return ie(ee().mark((function e(){var r,o,a,i,s,c,u;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="".concat(n.BASE_URL).concat(n.API_ENDPOINTS.POSTS.DELETE).concat(t),o=j.getToken()){e.next=4;break}throw new Error("Anda belum login. Silakan login terlebih dahulu.");case 4:return console.log("Deleting post with ID:",t),console.log("Delete API URL:",r),e.prev=6,e.next=9,fetch(r,{method:"DELETE",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"}});case 9:if(a=e.sent,console.log("Delete response status:",a.status),a.ok){e.next=26;break}return e.next=14,a.text();case 14:i=e.sent,console.error("Delete error response:",i),s={};try{s=i?JSON.parse(i):{}}catch(t){console.warn("Failed to parse error JSON response:",t)}e.t0=a.status,e.next=401===e.t0?21:403===e.t0?23:404===e.t0?24:25;break;case 21:throw j.clearAuthData(),new Error("Sesi Anda telah berakhir. Silakan login kembali.");case 23:throw new Error("Anda tidak memiliki izin untuk menghapus post ini.");case 24:throw new Error("Post tidak ditemukan.");case 25:throw new Error(s.message||"Gagal menghapus post: ".concat(a.status));case 26:return e.next=28,a.text();case 28:if(c=e.sent,u={success:!0},c)try{u=JSON.parse(c)}catch(t){console.warn("Failed to parse JSON response:",t)}return console.log("Post deleted successfully:",u),e.abrupt("return",u);case 35:throw e.prev=35,e.t1=e.catch(6),console.error("Error deleting post:",e.t1),e.t1;case 39:case"end":return e.stop()}}),e,null,[[6,35]])})))()},he=function(t){return ie(ee().mark((function e(){var r,o,a,i,s,c;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(n.BASE_URL).concat(n.API_ENDPOINTS.COMMENTS.GET_ALL.replace("{postId}",t)),o=j.getToken(),e.prev=2,a={"Content-Type":"application/json"},o&&(a.Authorization="Bearer ".concat(o)),e.next=7,fetch(r,{method:"GET",headers:a});case 7:return i=e.sent,console.log("Get comments response status:",i.status),e.next=11,i.text();case 11:s=e.sent,console.log("Get comments response text:",s),c={};try{c=s?JSON.parse(s):{}}catch(t){console.warn("Failed to parse JSON response:",t),c={rawResponse:s}}if(i.ok){e.next=17;break}throw new Error(c.message||"Gagal mengambil komentar. Status: ".concat(i.status));case 17:return e.abrupt("return",{success:!0,data:c.data||c||[]});case 20:throw e.prev=20,e.t0=e.catch(2),console.error("Error in getComments:",e.t0),e.t0;case 24:case"end":return e.stop()}}),e,null,[[2,20]])})))()},de=function(t,e){return ie(ee().mark((function r(){var o,a,i,s,c;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o="".concat(n.BASE_URL).concat(n.API_ENDPOINTS.COMMENTS.CREATE.replace("{postId}",t)),a=j.getToken()){r.next=4;break}throw new Error("Anda belum login. Silakan login terlebih dahulu.");case 4:return console.log("Creating comment for post:",t),console.log("Comment content:",e),r.prev=6,r.next=9,fetch(o,{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({content:e})});case 9:return i=r.sent,console.log("Create comment response status:",i.status),r.next=13,i.text();case 13:s=r.sent,console.log("Create comment response text:",s),c={},r.prev=16,c=s?JSON.parse(s):{},r.next=24;break;case 20:throw r.prev=20,r.t0=r.catch(16),console.warn("Failed to parse JSON response:",r.t0),new Error("Server returned invalid response");case 24:if(i.ok){r.next=34;break}r.t1=i.status,r.next=401===r.t1?28:403===r.t1?30:404===r.t1?31:422===r.t1?32:33;break;case 28:throw j.clearAuthData(),new Error("Sesi Anda telah berakhir. Silakan login kembali.");case 30:throw new Error("Anda tidak memiliki izin untuk menambah komentar.");case 31:throw new Error("Post tidak ditemukan.");case 32:throw new Error(c.message||"Komentar tidak valid.");case 33:throw new Error(c.message||"Gagal menambah komentar. Status: ".concat(i.status));case 34:return console.log("Comment created successfully:",c),r.abrupt("return",{success:!0,data:c.data||c});case 38:throw r.prev=38,r.t2=r.catch(6),console.error("Error in createComment:",r.t2),r.t2;case 42:case"end":return r.stop()}}),r,null,[[6,38],[16,20]])})))()},fe=function(t,e){return ie(ee().mark((function r(){var o,a,i,s,c,u,l;return ee().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o="".concat(n.BASE_URL).concat(n.API_ENDPOINTS.COMMENTS.DELETE.replace("{postId}",t).replace("{commentId}",e)),a=j.getToken()){r.next=4;break}throw new Error("Anda belum login. Silakan login terlebih dahulu.");case 4:return console.log("Deleting comment:",e,"from post:",t),r.prev=5,r.next=8,fetch(o,{method:"DELETE",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});case 8:if(i=r.sent,console.log("Delete comment response status:",i.status),i.ok){r.next=25;break}return r.next=13,i.text();case 13:s=r.sent,console.error("Delete comment error response:",s),c={};try{c=s?JSON.parse(s):{}}catch(t){console.warn("Failed to parse error JSON response:",t)}r.t0=i.status,r.next=401===r.t0?20:403===r.t0?22:404===r.t0?23:24;break;case 20:throw j.clearAuthData(),new Error("Sesi Anda telah berakhir. Silakan login kembali.");case 22:throw new Error("Anda tidak memiliki izin untuk menghapus komentar ini.");case 23:throw new Error("Komentar tidak ditemukan.");case 24:throw new Error(c.message||"Gagal menghapus komentar: ".concat(i.status));case 25:return r.next=27,i.text();case 27:if(u=r.sent,l={success:!0},u)try{l=JSON.parse(u)}catch(t){console.warn("Failed to parse JSON response:",t)}return console.log("Comment deleted successfully:",l),r.abrupt("return",l);case 34:throw r.prev=34,r.t1=r.catch(5),console.error("Error deleting comment:",r.t1),r.t1;case 38:case"end":return r.stop()}}),r,null,[[5,34]])})))()};function pe(t){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(t)}function me(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ve(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ge(){ge=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==pe(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(pe(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function ye(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function we(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){ye(a,r,o,i,s,"next",t)}function s(t){ye(a,r,o,i,s,"throw",t)}i(void 0)}))}}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ee(r.key),r)}}function Ee(t){var e=function(t){if("object"!=pe(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==pe(e)?e:e+""}var ke=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.posts=[]},e=[{key:"render",value:(h=we(ge().mark((function t(){var e,n,r;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("user_name")||"User",n=e.charAt(0).toUpperCase(),r=new pt({currentPath:window.location.hash.slice(1),userInitial:n,showProfile:!0}),t.abrupt("return",'\n      <div class="community-page-container">\n        '.concat(r.render(),'\n\n        <section class="community-banner">\n          <div class="banner-content" data-aos="fade-up" data-aos-duration="1000">\n            <img src="logo/Comunity-Main.png" alt="Community Icon" class="banner-icon" />\n            <div class="banner-text">\n              <h2>Selamat datang di Komunitas AgriEdu!</h2>\n              <p>Komunitas untuk saling berbagi solusi dan pengalaman bercocok tanam. Mulai berbagi pengalaman Anda.</p>\n            </div>\n          </div>\n\n        </section>\n\n        <div class="profile-container">\n          <aside class="profile-sidebar" data-aos="fade-right" data-aos-duration="1000">\n            <div class="sidebar-avatar">\n              <img src="images/avatar.jpg" alt="Avatar" class="avatar" id="sidebarAvatar"/>\n              <p id="sidebarUsername">Username User</p>\n              <p id="sidebarExperience">Experience Level</p>\n              <button class="sidebar-button" id="createPostBtn">Unggah diskusi</button>\n            </div>\n          </aside>\n\n          <main class="community-content" data-aos="fade-left" data-aos-duration="1000">\n            <div class="community-header">\n              <h1>Diskusi Komunitas</h1>\n              <button class="create-post-btn" id="createPostBtnMain">+ Buat Diskusi Baru</button>\n            </div>\n\n            <div class="posts-container" id="postsContainer">\n              <div class="loading-posts">Memuat diskusi...</div>\n            </div>\n          </main>\n        </div>\n      </div>\n    '));case 4:case"end":return t.stop()}}),t)}))),function(){return h.apply(this,arguments)})},{key:"afterRender",value:(l=we(ge().mark((function t(){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.communityPage=this,this.setupNavigationEvents(),"undefined"!=typeof AOS&&AOS.init({once:!0}),this.setupCreatePostButtons(),t.next=6,this.loadUserInfo();case 6:return t.next=8,this.loadPosts();case 8:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"setupNavigationEvents",value:function(){var t=(localStorage.getItem("user_name")||"User").charAt(0).toUpperCase();new pt({currentPath:window.location.hash.slice(1),userInitial:t,showProfile:!0}).bindEvents()}},{key:"setupCreatePostButtons",value:function(){var t=document.getElementById("createPostBtn"),e=document.getElementById("createPostBtnMain");t&&t.addEventListener("click",(function(){window.location.hash="#/form"})),e&&e.addEventListener("click",(function(){window.location.hash="#/form"}))}},{key:"loadUserInfo",value:(u=we(ge().mark((function t(){var e,n,r;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=j.getToken(),console.log("Token available:",!!e),!e){t.next=17;break}return t.prev=4,t.next=7,j.getCurrentUser();case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(4),console.warn("Failed to refresh user data from API:",t.t0);case 12:n=j.getUserData(),console.log("User data from storage:",n),n&&n.username?((r=document.getElementById("sidebarUsername"))&&(r.textContent=n.username),console.log("Updated sidebar username to:",n.username)):console.warn("No username found in user data"),t.next=18;break;case 17:console.warn("No token available");case 18:t.next=23;break;case 20:t.prev=20,t.t1=t.catch(0),console.error("Gagal ambil user info:",t.t1);case 23:case"end":return t.stop()}}),t,null,[[0,20],[4,9]])}))),function(){return u.apply(this,arguments)})},{key:"loadPosts",value:(c=we(ge().mark((function t(){var e,r,o;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ce();case 3:e=t.sent,console.log("Raw posts response:",e),r=[],e&&e.data?Array.isArray(e.data)?r=e.data:e.data.posts&&Array.isArray(e.data.posts)?r=e.data.posts:e.data.data&&Array.isArray(e.data.data)&&(r=e.data.data):Array.isArray(e)&&(r=e),console.log("Processed posts data:",r),this.posts=r,this.renderPosts(),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(0),console.error("Error loading posts:",t.t0),o=t.t0.message,(t.t0.message.includes("Failed to fetch")||t.t0.message.includes("CORS")||t.t0.message.includes("network")||"TypeError"===t.t0.name)&&(o="Tidak dapat terhubung ke server API. Periksa koneksi internet dan pastikan server API berjalan."),document.getElementById("postsContainer").innerHTML='\n        <div class="error-message">\n          <p>Gagal memuat diskusi: '.concat(o,"</p>\n          <p><small>URL API: ").concat(n.BASE_URL).concat(n.API_ENDPOINTS.POSTS.GET_ALL,'</small></p>\n          <p><small>Pastikan server API berjalan dan dapat diakses dari browser.</small></p>\n          <button onclick="location.reload()">Coba Lagi</button>\n        </div>\n      ');case 18:case"end":return t.stop()}}),t,this,[[0,12]])}))),function(){return c.apply(this,arguments)})},{key:"deletePost",value:(s=we(ge().mark((function t(e){return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Swal.fire({title:"Hapus Diskusi",text:"Apakah Anda yakin ingin menghapus diskusi ini?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6"});case 2:if(t.sent.isConfirmed){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,le(e);case 8:return t.next=10,this.loadPosts();case 10:Swal.fire({icon:"success",title:"Berhasil",text:"Diskusi berhasil dihapus!",showConfirmButton:!1,timer:3e3}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(5),console.error("Error deleting post:",t.t0),Swal.fire({icon:"error",title:"Gagal menghapus diskusi",text:t.t0.message,showConfirmButton:!1,timer:3e3});case 17:case"end":return t.stop()}}),t,this,[[5,13]])}))),function(t){return s.apply(this,arguments)})},{key:"renderPosts",value:function(){var t=this,e=document.getElementById("postsContainer"),r=j.getUserData(),o=null==r?void 0:r.id;if(console.log("=== RENDER POSTS DEBUG ==="),console.log("Current user data:",r),console.log("Posts to render:",this.posts),this.posts&&0!==this.posts.length){var a=this.posts.map((function(e){0===t.posts.indexOf(e)&&(console.log("=== FIRST POST STRUCTURE ==="),console.log("Post fields:",Object.keys(e)),console.log("User data:",e.User||e.user),console.log("Image data:",e.imageUrl||e.image));var r="Anonymous",a=null;if(e.User&&e.User.username)r=e.User.username,a=e.User.id;else if(e.user&&e.user.username)r=e.user.username,a=e.user.id;else if(e.userId===o){var i=j.getUserData();i&&i.username&&(r=i.username,a=o)}console.log("Post ".concat(e.id,': username="').concat(r,'", userId="').concat(a,'"'));var s="";if(e.imageUrl&&"string"==typeof e.imageUrl&&e.imageUrl.trim()){var c=e.imageUrl.trim();s=c.startsWith("http://")||c.startsWith("https://")?c:c.startsWith("/")?"".concat(n.BASE_URL).concat(c):"".concat(n.BASE_URL,"/").concat(c)}var u=o&&(a===o||e.userId===o);0===t.posts.indexOf(e)&&(console.log("Ownership check for first post:"),console.log("- Current user ID:",o),console.log("- Post user ID:",a||e.userId),console.log("- Is owner:",u));var l=e.content&&e.content.length>150?e.content.substring(0,150)+"...":e.content||"";return'\n          <div class="post-card" onclick="window.communityPage.showPostDetail(\''.concat(e.id,'\')" style="cursor: pointer;">\n            <div class="post-header">\n              <div class="post-author">\n                <div class="author-avatar">').concat(r.charAt(0).toUpperCase(),'</div>\n                <div class="author-info">\n                  <h4>').concat(r,'</h4>\n                  <span class="post-date">').concat(t.formatDate(e.createdAt),"</span>\n                </div>\n              </div>\n              ").concat(u?'\n                <button class="delete-post-btn" onclick="event.stopPropagation(); window.communityPage.deletePost(\''.concat(e.id,'\')" title="Hapus diskusi">\n                  <i class="fas fa-trash"></i>\n                </button>\n              '):"",'\n            </div>\n            <div class="post-content">\n              <h3>').concat(e.title||"Tanpa Judul","</h3>\n              <p>").concat(l,"</p>\n              ").concat(s?'\n                <div class="post-image-container">\n                  <img src="'.concat(s,'" alt="Post image" class="post-image"\n                       onerror="console.error(\'Image failed to load:\', this.src); this.parentElement.style.display=\'none\';"\n                       onload="console.log(\'Image loaded successfully:\', this.src);">\n                </div>\n              '):"",'\n            </div>\n            <div class="post-actions">\n              <button class="action-btn comment-btn" onclick="event.stopPropagation(); window.communityPage.showComments(\'').concat(e.id,'\')">\n                <i class="fas fa-comment"></i> Komentar\n              </button>\n              ').concat(u?'\n                <button class="action-btn delete-btn" onclick="event.stopPropagation(); window.communityPage.deletePost(\''.concat(e.id,'\')" title="Hapus diskusi">\n                  <i class="fas fa-trash"></i> Hapus\n                </button>\n              '):"","\n            </div>\n          </div>\n        ")})).join("");e.innerHTML=a,console.log("=== RENDER POSTS COMPLETE ===")}else e.innerHTML='\n        <div class="no-posts">\n          <p>Belum ada diskusi. Jadilah yang pertama membuat diskusi!</p>\n          <button class="create-first-post-btn" onclick="window.location.hash=\'#/form\'">Buat Diskusi Pertama</button>\n        </div>\n      '}},{key:"showComments",value:(i=we(ge().mark((function t(e){var n,r,o,a,i,s,c,u;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Showing comments for post ID:",e),t.next=4,Promise.all([ue(e),he(e)]);case 4:n=t.sent,r=me(n,2),o=r[0],a=r[1],i=o.data,s=a.data||[],console.log("Post data:",i),console.log("Comments data:",s),c="Anonymous",i.User?c=i.User.username||i.User.name||"Anonymous":i.user?c=i.user.username||i.user.name||"Anonymous":i.username&&(c=i.username),(u=document.createElement("div")).className="post-detail-modal",u.innerHTML='\n        <div class="modal-overlay" onclick="this.parentElement.remove()"></div>\n        <div class="modal-content">\n          <div class="modal-header">\n            <h2>Komentar Diskusi</h2>\n            <button class="modal-close" onclick="this.closest(\'.post-detail-modal\').remove()">\n              <i class="fas fa-times"></i>\n            </button>\n          </div>\n          <div class="modal-body">\n            <div class="post-summary">\n              <div class="post-detail-header">\n                <div class="author-avatar">'.concat(c.charAt(0).toUpperCase(),'</div>\n                <div class="author-info">\n                  <h4>').concat(c,'</h4>\n                  <span class="post-date">').concat(this.formatDate(i.createdAt),"</span>\n                </div>\n              </div>\n              <h3>").concat(i.title||"Tanpa Judul","</h3>\n              <p>").concat(i.content||"Tidak ada konten",'</p>\n            </div>\n\n            <div class="comments-section">\n              <h4>Komentar (').concat(s.length,')</h4>\n              <div class="add-comment">\n                <textarea id="new-comment-').concat(e,'" placeholder="Tulis komentar..." rows="3"></textarea>\n                <button onclick="window.communityPage.addComment(\'').concat(e,'\')" class="add-comment-btn">\n                  <i class="fas fa-paper-plane"></i> Kirim Komentar\n                </button>\n              </div>\n              <div class="comments-list" id="comments-list-').concat(e,'">\n                ').concat(this.renderComments(s,e),"\n              </div>\n            </div>\n          </div>\n        </div>\n      "),document.body.appendChild(u),t.next=24;break;case 20:t.prev=20,t.t0=t.catch(0),console.error("Error showing comments:",t.t0),Swal.fire({icon:"error",title:"Gagal memuat komentar",text:t.t0.message,showConfirmButton:!1,timer:3e3});case 24:case"end":return t.stop()}}),t,this,[[0,20]])}))),function(t){return i.apply(this,arguments)})},{key:"renderComments",value:function(t,e){var n=this;if(!t||0===t.length)return'<p class="no-comments">Belum ada komentar. Jadilah yang pertama berkomentar!</p>';var r=j.getUserData(),o=null==r?void 0:r.id;return t.map((function(t){var r="Anonymous",a=null;if(t.User&&t.User.username)r=t.User.username,a=t.User.id;else if(t.user&&t.user.username)r=t.user.username,a=t.user.id;else if(t.userId===o){var i=j.getUserData();i&&i.username&&(r=i.username,a=o)}var s=o&&(a===o||t.userId===o);return'\n        <div class="comment-item">\n          <div class="comment-header">\n            <div class="comment-author">\n              <div class="author-avatar small">'.concat(r.charAt(0).toUpperCase(),'</div>\n              <div class="author-info">\n                <h5>').concat(r,'</h5>\n                <span class="comment-date">').concat(n.formatDate(t.createdAt),"</span>\n              </div>\n            </div>\n            ").concat(s?'\n              <button class="delete-comment-btn" onclick="window.communityPage.deleteComment(\''.concat(e,"', '").concat(t.id,'\')" title="Hapus komentar">\n                <i class="fas fa-trash"></i>\n              </button>\n            '):"",'\n          </div>\n          <div class="comment-content">\n            <p>').concat(t.content||"Tidak ada konten","</p>\n          </div>\n        </div>\n      ")})).join("")}},{key:"addComment",value:(a=we(ge().mark((function t(e){var n,r,o,a,i,s;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=document.getElementById("new-comment-".concat(e)),r=n.value.trim()){t.next=6;break}return Swal.fire({icon:"warning",title:"Komentar kosong",text:"Silakan tulis komentar terlebih dahulu.",showConfirmButton:!1,timer:3e3}),t.abrupt("return");case 6:return console.log("Adding comment to post:",e,"Content:",r),t.next=9,de(e,r);case 9:return o=t.sent,console.log("Comment created:",o),n.value="",t.next=14,he(e);case 14:a=t.sent,i=a.data||[],(s=document.getElementById("comments-list-".concat(e)))&&(s.innerHTML=this.renderComments(i,e)),Swal.fire({icon:"success",title:"Berhasil",text:"Komentar berhasil ditambahkan!",showConfirmButton:!1,timer:3e3}),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(0),console.error("Error adding comment:",t.t0),Swal.fire({icon:"error",title:"Gagal menambah komentar",text:t.t0.message,showConfirmButton:!1,timer:3e3});case 25:case"end":return t.stop()}}),t,this,[[0,21]])}))),function(t){return a.apply(this,arguments)})},{key:"deleteComment",value:(o=we(ge().mark((function t(e,n){var r,o,a;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Swal.fire({title:"Hapus Komentar",text:"Apakah Anda yakin ingin menghapus komentar ini?",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus",cancelButtonText:"Batal",confirmButtonColor:"#d33",cancelButtonColor:"#3085d6"});case 2:if(t.sent.isConfirmed){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,console.log("Deleting comment:",n,"from post:",e),t.next=9,fe(e,n);case 9:return t.next=11,he(e);case 11:r=t.sent,o=r.data||[],(a=document.getElementById("comments-list-".concat(e)))&&(a.innerHTML=this.renderComments(o,e)),Swal.fire({icon:"success",title:"Berhasil",text:"Komentar berhasil dihapus!",showConfirmButton:!1,timer:3e3}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),console.error("Error deleting comment:",t.t0),Swal.fire({icon:"error",title:"Gagal menghapus komentar",text:t.t0.message,showConfirmButton:!1,timer:3e3});case 22:case"end":return t.stop()}}),t,this,[[5,18]])}))),function(t,e){return o.apply(this,arguments)})},{key:"showPostDetail",value:(r=we(ge().mark((function t(e){var r,o,a,i,s,c,u,l,h,d;return ge().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Showing detail for post ID:",e),t.next=4,ue(e);case 4:r=t.sent,o=r.data,console.log("Post detail data:",o),a="Anonymous",o.User?a=o.User.username||o.User.name||"Anonymous":o.user?a=o.user.username||o.user.name||"Anonymous":o.username&&(a=o.username),i="",s=[o.imageUrl,o.image,o.photo,o.picture,o.attachment],c=0,u=s;case 12:if(!(c<u.length)){t.next=26;break}if(!(l=u[c])||!l.trim()){t.next=23;break}if(!l.startsWith("http://")&&!l.startsWith("https://")){t.next=20;break}return i=l,t.abrupt("break",26);case 20:return h=l.startsWith("/")?l:"/".concat(l),i="".concat(n.BASE_URL).concat(h),t.abrupt("break",26);case 23:c++,t.next=12;break;case 26:(d=document.createElement("div")).className="post-detail-modal",d.innerHTML='\n        <div class="modal-overlay" onclick="this.parentElement.remove()"></div>\n        <div class="modal-content">\n          <div class="modal-header">\n            <h2>Detail Diskusi</h2>\n            <button class="modal-close" onclick="this.closest(\'.post-detail-modal\').remove()">\n              <i class="fas fa-times"></i>\n            </button>\n          </div>\n          <div class="modal-body">\n            <div class="post-detail-header">\n              <div class="author-avatar">'.concat(a.charAt(0).toUpperCase(),'</div>\n              <div class="author-info">\n                <h4>').concat(a,'</h4>\n                <span class="post-date">').concat(this.formatDate(o.createdAt),'</span>\n              </div>\n            </div>\n            <div class="post-detail-content">\n              <h3>').concat(o.title||"Tanpa Judul","</h3>\n              <p>").concat(o.content||"Tidak ada konten","</p>\n              ").concat(i?'\n                <div class="post-detail-image">\n                  <img src="'.concat(i,'" alt="Post image"\n                       onerror="this.parentElement.style.display=\'none\';">\n                </div>\n              '):"","\n            </div>\n            <div class=\"post-actions-detail\">\n              <button onclick=\"this.closest('.post-detail-modal').remove(); window.communityPage.showComments('").concat(e,'\')" class="action-btn comment-btn">\n                <i class="fas fa-comment"></i> Lihat Komentar\n              </button>\n            </div>\n          </div>\n        </div>\n      '),document.body.appendChild(d),t.next=36;break;case 32:t.prev=32,t.t0=t.catch(0),console.error("Error showing post detail:",t.t0),Swal.fire({icon:"error",title:"Gagal memuat detail diskusi",text:t.t0.message,showConfirmButton:!1,timer:3e3});case 36:case"end":return t.stop()}}),t,this,[[0,32]])}))),function(t){return r.apply(this,arguments)})},{key:"formatDate",value:function(t){if(!t)return"Baru saja";try{var e=new Date(t),n=new Date,r=Math.floor((n-e)/6e4);return r<1?"Baru saja":r<60?"".concat(r," menit yang lalu"):r<1440?"".concat(Math.floor(r/60)," jam yang lalu"):e.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}catch(t){return"Baru saja"}}}],e&&be(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,o,a,i,s,c,u,l,h}(),xe=o(602);function Se(t){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Se(t)}function Pe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,o=t}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return s}}(t,e)||je(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function je(t,e){if(t){if("string"==typeof t)return Te(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Te(t,e):void 0}}function Te(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Oe(){Oe=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Se(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Se(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Ae(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function _e(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Ae(a,r,o,i,s,"next",t)}function s(t){Ae(a,r,o,i,s,"throw",t)}i(void 0)}))}}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ie(r.key),r)}}function Ie(t){var e=function(t){if("object"!=Se(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Se(e)?e:e+""}var Le=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.presenter=null,this.updateCameraDevices=this.updateCameraDevices.bind(this)},e=[{key:"render",value:(a=_e(Oe().mark((function t(e){var n,r,o;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("user_name")||"User",r=n.charAt(0).toUpperCase(),o=new pt({currentPath:window.location.hash.slice(1),userInitial:r,showProfile:!0}),t.abrupt("return",'\n    <div class="home-container">\n      '.concat(o.render(),'\n\n      <section class="community-banner">\n  <div class="banner-content">\n    <img src="logo/Comunity-Main.png" alt="Community Icon" class="banner-icon" />\n    <div class="banner-text">\n      <h2>Selamat datang di Komunitas AgriEdu!</h2>\n      <p>Komunitas untuk saling berbagi solusi dan pengalaman bercocok tanam. Mulai berbagi pengalaman Anda.</p>\n    </div>\n  </div>\n</section>\n\n\n      <div class="profile-container">\n        <aside class="profile-sidebar">\n          <div class="sidebar-avatar">\n            <img src="images/avatar.jpg" alt="Avatar" class="avatar" id="sidebarAvatar"/>\n            <p id="sidebarUsername">Username User</p>\n            <p id="sidebarExperience">Experience Level</p>\n            <button class="sidebar-button">Unggah diskusi</button>\n          </div>\n        </aside>\n\n        <main>\n          <section class="container-form">\n            <h1>Form Diskusi</h1>\n            <hr />\n            <form id="create-post-form" enctype="multipart/form-data">\n              <div>\n                <label for="title">Judul:</label>\n                <input type="text" id="title" name="title" required placeholder="Judul diskusi" />\n              </div>\n              <div>\n                <label for="content">Konten:</label>\n                <textarea id="content" name="content" required placeholder="Tulis deskripsi di sini"></textarea>\n              </div>\n\n              <div class="file-camera-wrapper">\n                <label for="image">Gambar:</label>\n                <div class="input-group">\n                  <input type="file" id="image" name="image" accept="image/*" />\n                  <button type="button" id="showCameraBtn" aria-label="Tampilkan kamera">\n                    <i class="fas fa-camera"></i>\n                  </button>\n                </div>\n              </div>\n\n              <div id="cameraSection" style="display: none;">\n                <label for="cameraSelect">Pilih Kamera</label>\n                <select id="cameraSelect"></select>\n                <video id="cameraStream" autoplay playsinline style="width: 100%; max-height: 100%;"></video>\n                <button type="button" id="capturePhoto">Ambil Foto</button>\n                <button type="button" id="retakePhoto" style="display: none;" aria-label="Ambil ulang foto">Ambil Ulang Foto</button>\n                <button type="button" id="stopCamera" style="margin-left: 8px;">Nonaktifkan Kamera</button>\n                <canvas id="capturedCanvas" style="display:none;"></canvas>\n              </div>\n\n              <button type="submit" onclick="console.log(\'Button clicked via onclick!\')" style="z-index: 9999; position: relative;">Kirim diskusi</button>\n            </form>\n            <div id="post-result"></div>\n          </section>\n        </main>\n      </div>\n\n      <footer class="profile-footer">\n        <p>&copy; 2025 AgriEdu. All rights reserved.</p>\n      </footer>\n    </div>\n  '));case 4:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})},{key:"afterRender",value:(o=_e(Oe().mark((function t(){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setupForm(),this.setupCamera(),this.setupNavigationEvents(),t.next=5,this.loadUserInfo();case 5:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setupNavigationEvents",value:function(){var t=(localStorage.getItem("user_name")||"User").charAt(0).toUpperCase();new pt({currentPath:window.location.hash.slice(1),userInitial:t,showProfile:!0}).bindEvents()}},{key:"loadUserInfo",value:(r=_e(Oe().mark((function t(){var e,r,o,a,i,s,c,u,l,h,d;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=j.getToken())){t.next=19;break}return t.next=5,fetch("".concat(n.BASE_URL,"/api/auth/user"),{headers:{Authorization:"Bearer ".concat(e)}});case 5:if(!(r=t.sent).ok){t.next=14;break}return t.next=9,r.json();case 9:a=t.sent,i=(null==a||null===(o=a.data)||void 0===o?void 0:o.username)||(null==a?void 0:a.username)||"Pengguna",document.getElementById("sidebarUsername").textContent=i,t.next=17;break;case 14:return console.warn("Token tidak valid, redirect ke login"),window.location.hash="#/login",t.abrupt("return");case 17:t.next=22;break;case 19:return console.warn("Tidak ada token, redirect ke login"),window.location.hash="#/login",t.abrupt("return");case 22:t.next=29;break;case 24:return t.prev=24,t.t0=t.catch(0),console.error("Gagal ambil username:",t.t0),window.location.hash="#/login",t.abrupt("return");case 29:return t.prev=29,t.next=32,(0,xe.P2)("agriEduDB",1);case 32:return s=t.sent,c=s.transaction("setupData","readonly"),u=c.objectStore("setupData"),t.next=37,u.getAll();case 37:l=t.sent,h=l[0],d=(null==h?void 0:h.experience)||"Belum diatur",document.getElementById("sidebarExperience").textContent=d,t.next=47;break;case 43:t.prev=43,t.t1=t.catch(29),console.error("Gagal ambil experience dari IndexedDB:",t.t1),document.getElementById("sidebarExperience").textContent="Gagal ambil experience";case 47:case"end":return t.stop()}}),t,null,[[0,24],[29,43]])}))),function(){return r.apply(this,arguments)})},{key:"setupForm",value:function(){var t=this,e=document.getElementById("create-post-form"),n=e.querySelector('button[type="submit"]');console.log("Form setup - Form found:",!!e),console.log("Form setup - Submit button found:",!!n),n&&(console.log("Submit button disabled:",n.disabled),console.log("Submit button style:",n.style.cssText)),console.log("Checking for submit-post event listeners..."),e.addEventListener("submit",(function(r){if(console.log("Form submit event triggered!"),r.preventDefault(),t.validateForm(e)){console.log("Form validation passed, preparing to submit..."),n.disabled=!0,n.textContent="Mengirim...";var o=new FormData(e);console.log("FormData contents:");var a,i=function(t){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=je(t))){e&&(t=e);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,i=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){i=!0,o=t},f:function(){try{a||null==e.return||e.return()}finally{if(i)throw o}}}}(o.entries());try{for(i.s();!(a=i.n()).done;){var s=Pe(a.value,2),c=s[0],u=s[1];console.log("".concat(c,":"),u)}}catch(t){i.e(t)}finally{i.f()}var l=new CustomEvent("submit-post",{detail:o});console.log("Dispatching submit-post event..."),document.dispatchEvent(l)}else console.log("Form validation failed")})),n&&n.addEventListener("click",(function(){console.log("Submit button clicked directly!")}))}},{key:"validateForm",value:function(t){var e=t.querySelector("#title").value.trim(),n=t.querySelector("#content").value.trim();if(document.getElementById("post-result").innerHTML="",!e)return this.showError("Judul diskusi harus diisi."),!1;if(e.length<3)return this.showError("Judul diskusi minimal 3 karakter."),!1;if(!n)return this.showError("Konten diskusi harus diisi."),!1;if(n.length<10)return this.showError("Konten diskusi minimal 10 karakter."),!1;var r=t.querySelector("#image").files[0];if(r){if(r.size>5242880)return this.showError("Ukuran gambar maksimal 5MB."),!1;if(!["image/jpeg","image/jpg","image/png","image/gif"].includes(r.type))return this.showError("Format gambar harus JPEG, PNG, atau GIF."),!1}return!0}},{key:"showError",value:function(t){document.getElementById("post-result").innerHTML='<p style="color: red; margin-top: 10px;">'.concat(t,"</p>");var e=document.querySelector('#create-post-form button[type="submit"]');e&&(e.disabled=!1,e.textContent="Kirim diskusi")}},{key:"resetForm",value:function(){var t=document.getElementById("create-post-form");if(t){t.reset();var e=document.getElementById("capturedCanvas"),n=document.getElementById("cameraStream"),r=document.getElementById("cameraSection"),o=document.getElementById("showCameraBtn");e&&(e.style.display="none"),n&&(n.style.display="none"),r&&(r.style.display="none"),o&&(o.style.display="inline-block"),this.cameraStream&&(this.cameraStream.getTracks().forEach((function(t){return t.stop()})),this.cameraStream=null)}var a=document.querySelector('#create-post-form button[type="submit"]');a&&(a.disabled=!1,a.textContent="Kirim diskusi")}},{key:"updateCameraDevices",value:function(t){var e=document.getElementById("cameraSelect");e&&(e.innerHTML="",t.forEach((function(t,n){var r=document.createElement("option");r.value=t.deviceId,r.textContent=t.label||"Kamera ".concat(n+1),e.appendChild(r)})))}},{key:"setupCamera",value:function(){var t=this,e=document.getElementById("showCameraBtn"),n=document.getElementById("cameraSection"),r=document.getElementById("cameraStream"),o=document.getElementById("capturePhoto"),a=document.getElementById("retakePhoto"),i=document.getElementById("stopCamera"),s=document.getElementById("capturedCanvas"),c=document.getElementById("image"),u=document.getElementById("cameraSelect");this.cameraStream=null;var l=!1;navigator.mediaDevices.enumerateDevices().then((function(e){var n=e.filter((function(t){return"videoinput"===t.kind}));t.updateCameraDevices(n)})).catch((function(t){return console.warn("Gagal enumerate devices:",t)}));var h=function(){t.cameraStream&&(t.cameraStream.getTracks().forEach((function(t){return t.stop()})),t.cameraStream=null,i.style.display="none")};i.addEventListener("click",(function(){h(),n.style.display="none",e.style.display="inline-block",a.style.display="none",o.textContent="Ambil Foto",l=!1}));var d=function(){var e=_e(Oe().mark((function e(){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(),e.prev=1,n=u.value,e.next=5,navigator.mediaDevices.getUserMedia({video:!n||{deviceId:{exact:n}}});case 5:t.cameraStream=e.sent,r.srcObject=t.cameraStream,r.style.display="block",s.style.display="none",a.style.display="none",o.style.display="inline-block",o.textContent="Ambil Foto",i.style.display="inline-block",l=!1,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Swal.fire({icon:"error",title:"Gagal mengakses kamera",text:e.t0.message,showConfirmButton:!1,timer:3e3});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();e.addEventListener("click",(function(){n.style.display="block",e.style.display="none",d()})),u.addEventListener("change",d),o.addEventListener("click",(function(){if(!l){var t=s.getContext("2d");s.width=r.videoWidth,s.height=r.videoHeight,t.drawImage(r,0,0,s.width,s.height),s.style.display="block",r.style.display="none",h(),r.srcObject=null,s.toBlob((function(t){var e=new File([t],"captured-photo.png",{type:"image/png"}),n=new DataTransfer;n.items.add(e),c.files=n.files}),"image/png"),l=!0,o.style.display="none",a.style.display="inline-block"}})),a.addEventListener("click",(function(){d()})),document.addEventListener("visibilitychange",(function(){document.hidden?h():l||"block"!==n.style.display||d()})),window.addEventListener("beforeunload",h)}},{key:"destroy",value:function(){this.cameraStream&&(this.cameraStream.getTracks().forEach((function(t){return t.stop()})),this.cameraStream=null);var t=document.getElementById("cameraStream");t.srcObject=null,t.style.display="none";var e=document.getElementById("cameraSection");e&&(e.style.display="none")}}],e&&Ce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r,o,a}();function Be(t){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(t)}function Ne(){Ne=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Be(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Be(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Fe(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Ge(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Fe(a,r,o,i,s,"next",t)}function s(t){Fe(a,r,o,i,s,"throw",t)}i(void 0)}))}}function De(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Me(r.key),r)}}function Me(t){var e=function(t){if("object"!=Be(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Be(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Be(e)?e:e+""}const Ue=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.formComponent=new Le,this.formComponent.presenter=this,this._hasBoundSubmitHandler=!1},e=[{key:"render",value:(a=Ge(Ne().mark((function t(){return Ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.formComponent.render();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"afterRender",value:(o=Ge(Ne().mark((function t(){return Ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.formComponent.afterRender();case 2:this._hasBoundSubmitHandler?console.log("CommunityPagePresenter: submit-post event listener already registered"):(console.log("CommunityPagePresenter: Registering submit-post event listener"),document.addEventListener("submit-post",this._handleSubmit.bind(this)),this._hasBoundSubmitHandler=!0,console.log("CommunityPagePresenter: submit-post event listener registered successfully"));case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"init",value:(r=Ge(Ne().mark((function t(){return Ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.formComponent.render();case 2:return this.container.innerHTML=t.sent,t.next=5,this.formComponent.afterRender();case 5:this._hasBoundSubmitHandler||(document.addEventListener("submit-post",this._handleSubmit.bind(this)),this._hasBoundSubmitHandler=!0);case 6:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"_handleSubmit",value:(n=Ge(Ne().mark((function t(e){var n,r,o,a,i;return Ne().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("CommunityPagePresenter: submit-post event received"),t.prev=1,o=e.detail,console.log("CommunityPagePresenter: FormData received:",o),console.log("CommunityPagePresenter: Calling CommunityModel.createPost..."),t.next=7,se(o);case 7:a=t.sent,console.log("CommunityPagePresenter: Post created successfully:",a),document.getElementById("post-result").innerHTML='\n        <p style="color: green; margin-top: 10px;">\n           Post berhasil dibuat! Mengalihkan ke halaman diskusi...\n        </p>\n      ',null===(n=this.formComponent)||void 0===n||null===(r=n.resetForm)||void 0===r||r.call(n),setTimeout((function(){window.location.hash="#/community"}),1e3),t.next=24;break;case 14:if(t.prev=14,t.t0=t.catch(1),console.error("Error creating post:",t.t0),!t.t0.message.includes("Sesi Anda telah berakhir")&&!t.t0.message.includes("belum login")){t.next=21;break}return document.getElementById("post-result").innerHTML='\n          <p style="color: red; margin-top: 10px;">\n             '.concat(t.t0.message," Mengalihkan ke halaman login...\n          </p>\n        "),setTimeout((function(){window.location.hash="#/login"}),2e3),t.abrupt("return");case 21:document.getElementById("post-result").innerHTML='\n        <p style="color: red; margin-top: 10px;">\n           Gagal membuat post: '.concat(t.t0.message,"\n        </p>\n      "),(i=document.querySelector('#create-post-form button[type="submit"]'))&&(i.disabled=!1,i.textContent="Kirim diskusi");case 24:case"end":return t.stop()}}),t,this,[[1,14]])}))),function(t){return n.apply(this,arguments)})}],e&&De(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r,o,a}();function Re(t){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Re(t)}function qe(){qe=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Re(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Re(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function He(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function $e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ze(r.key),r)}}function ze(t){var e=function(t){if("object"!=Re(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Re(e)?e:e+""}var Ke=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"init",value:function(t){var e=this;if(t){var n=document.createElement("small");n.classList.add("error"),n.setAttribute("id","generalError"),n.setAttribute("aria-live","polite"),t.querySelector("button[type='submit']").before(n);var r=function(t,e){var n=document.getElementById(t);n&&(n.textContent=e)},o=function(t,e){switch(t){case"username":return e.username?"":"Username is required";case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"":"Invalid email format";case"password":return e.password.length>=8?"":"Password must be at least 8 characters";case"confirmPassword":return e.password===e.confirmPassword?"":"Passwords do not match";default:return""}},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;["username","email","password","confirmPassword"].forEach((function(n){var a=o(n,t);r(n+"Error",e===n?a:"")}))};t.addEventListener("input",(function(n){var o=e._getFormData(t);a(o,n.target.id),r("generalError","")})),t.addEventListener("focusin",(function(n){var r=e._getFormData(t);a(r,n.target.id)})),t.addEventListener("focusout",(function(n){var a=e._getFormData(t),i=o(n.target.id,a);r(n.target.id+"Error",i)})),t.addEventListener("submit",function(){var n,a=(n=qe().mark((function n(a){var i,s,c;return qe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),r("generalError",""),(i=t.querySelector("button[type='submit']")).disabled=!0,i.textContent="Signing Up...",s=e._getFormData(t),["username","email","password","confirmPassword"].forEach((function(t){var e=o(t,s);r(t+"Error",e)})),!(s.username&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)&&s.password.length>=8&&s.password===s.confirmPassword)){n.next=25;break}return n.prev=10,c={username:s.username,email:s.email,password:s.password},n.next=14,j.register(c);case 14:Swal.fire({icon:"success",title:"Registrasi berhasil",text:"Registration successful! Please log in with your new account.",showConfirmButton:!1,timer:3e3}),window.location.hash="#/login",n.next=23;break;case 18:n.prev=18,n.t0=n.catch(10),r("generalError",n.t0.message||"Registration failed. Please try again."),i.disabled=!1,i.textContent="Sign Up";case 23:n.next=27;break;case 25:i.disabled=!1,i.textContent="Sign Up";case 27:case"end":return n.stop()}}),n,null,[[10,18]])})),function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(t){He(a,r,o,i,s,"next",t)}function s(t){He(a,r,o,i,s,"throw",t)}i(void 0)}))});return function(t){return a.apply(this,arguments)}}()),this._initTogglePassword()}}},{key:"_getFormData",value:function(t){return{username:t.username.value.trim(),email:t.email.value.trim(),password:t.password.value,confirmPassword:t.confirmPassword.value}}},{key:"_initTogglePassword",value:function(){document.querySelectorAll(".toggle-password").forEach((function(t){t.addEventListener("click",(function(){var e=t.getAttribute("data-target"),n=document.getElementById(e),r=t.querySelector("i");"password"===n.type?(n.type="text",r.classList.remove("fa-eye-slash"),r.classList.add("fa-eye")):(n.type="password",r.classList.remove("fa-eye"),r.classList.add("fa-eye-slash"))}))}))}}],e&&$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function Ve(t){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ve(t)}function Ye(){Ye=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Ve(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Ve(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function We(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Je(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){We(a,r,o,i,s,"next",t)}function s(t){We(a,r,o,i,s,"throw",t)}i(void 0)}))}}function Xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ze(r.key),r)}}function Ze(t){var e=function(t){if("object"!=Ve(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Ve(e)?e:e+""}var Qe=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"render",value:(r=Je(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n<section class="container">\n  <div class="register-container">\n    <h1>Sign Up</h1>\n    <p class="register-subtitle">Create your account and start your journey towards smarter, sustainable farming.</p>\n    <form id="registerForm" novalidate>\n\n      <label for="username" class="form-label">Username</label>\n      <input type="text" id="username" placeholder="Create your username" required aria-describedby="usernameError" />\n      <small class="error" id="usernameError" aria-live="polite"></small>\n\n      <label for="email" class="form-label">Email address</label>\n      <input type="email" id="email" placeholder="Enter your email" required aria-describedby="emailError" />\n      <small class="error" id="emailError" aria-live="polite"></small>\n      <label for="password" class="form-label">Password</label>\n<div class="password-wrapper">\n  <input type="password" id="password" placeholder="Enter your password" required aria-describedby="passwordError" />\n  <button type="button" class="toggle-password" data-target="password" aria-label="Toggle password visibility">\n    <i class="fa-solid fa-eye-slash"></i>\n  </button>\n</div>\n<small class="error" id="passwordError" aria-live="polite"></small>\n      <label for="confirmPassword" class="form-label">Confirm password</label>\n<div class="password-wrapper">\n  <input type="password" id="confirmPassword" placeholder="Confirm your Password" required aria-describedby="confirmPasswordError" />\n  <button type="button" class="toggle-password" data-target="confirmPassword" aria-label="Toggle password visibility">\n    <i class="fa-solid fa-eye-slash"></i>\n  </button>\n</div>\n<small class="error" id="confirmPasswordError" aria-live="polite"></small>\n\n      <button type="submit">Sign Up</button>\n    </form>\n    <p class="login-link">Already have an account? <a href="#/login" id="toLogin">Login here</a></p>\n  </div>\n</section>\n\n');case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(n=Je(Ye().mark((function t(){return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(new Ke).init(document.querySelector("#registerForm"));case 2:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}],e&&Xe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function tn(t){return tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tn(t)}function en(){en=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==tn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(tn(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function nn(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function rn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){nn(a,r,o,i,s,"next",t)}function s(t){nn(a,r,o,i,s,"throw",t)}i(void 0)}))}}function on(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,an(r.key),r)}}function an(t){var e=function(t){if("object"!=tn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==tn(e)?e:e+""}var sn=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"render",value:(r=rn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      \x3c!-- HTML kamu tetap sama --\x3e\n      <section class="setup-wrapper">\n    <div class="setup-card">\n      <div class="setup-content">\n        <div class="icon" id="step-icon">\n          <img src="logo/setap.gif" alt="Animated Logo" style="width: 80%; height: 80%;" />\n        </div>\n        <h2 class="title" id="step-title">\n          Lets <span class="green">get</span> your <br /><strong>set up first!</strong>\n        </h2>\n        <p class="desc" id="step-desc">\n          Just a few steps to create your AgriEdu account and start exploring smarter farming tools and learning resources.\n        </p>\n          <div id="form-step" style="display: none;">\n            <form id="setup-form">\n              <input type="text" id="name" placeholder="What is Your Name?" required /><br />\n              <select id="interest" required>\n                <option value="" disabled selected hidden>What are you interested in?</option>\n                <option value="urban-farming">Urban Farming</option>\n                <option value="tanaman-hias">Tanaman Hias</option>\n                <option value="sayuran">Sayuran</option>\n                <option value="buah-buahan">Buah-buahan</option>\n              </select><br />\n\n              <label>Select your farming experience level:</label>\n            <div class="experience-options">\n              <label><input type="radio" name="experience" value="Beginner" required /> Beginner</label>\n              <label><input type="radio" name="experience" value="Intermediate" /> Intermediate</label>\n              <label><input type="radio" name="experience" value="Experienced" /> Experienced</label>\n            </div>\n\n\n              <label>Click on the map to choose your location:</label>\n              <div id="map" style="height: 200px;"></div><br />\n              <div id="popup" class="ol-popup" style="position: absolute; background: white; padding: 5px; border: 1px solid #ccc; border-radius: 4px;"></div>\n              <input type="hidden" id="lat" />\n              <input type="hidden" id="lon" />\n\n              <button type="submit">Submit</button>\n            </form>\n          </div>\n\n          <div class="dots">\n            <span class="dot active"></span>\n            <span class="dot"></span>\n            <span class="dot"></span>\n          </div>\n          <button id="next-btn">next</button>\n        </div>\n      </section>\n    ');case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(n=rn(en().mark((function t(){return en().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([o.e(170),o.e(841)]).then(o.bind(o,6559));case 2:(new t.sent.default).init();case 5:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})}],e&&on(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}(),cn=o(652);function un(t){return un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(t)}function ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(n),!0).forEach((function(e){dn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function dn(t,e,n){return(e=function(t){var e=function(t){if("object"!=un(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=un(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==un(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fn(){fn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==un(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(un(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function pn(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function mn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){pn(a,r,o,i,s,"next",t)}function s(t){pn(a,r,o,i,s,"throw",t)}i(void 0)}))}}const vn=function(){return mn(fn().mark((function t(){var e,n,r,o;return fn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,cn.D0)();case 2:return r=t.sent,o=j.getUserData(),t.abrupt("return",{avatar:null,fullName:(null===(e=r[0])||void 0===e?void 0:e.name)||"",username:(null==o?void 0:o.username)||"",experience:(null===(n=r[0])||void 0===n?void 0:n.experience)||""});case 5:case"end":return t.stop()}}),t)})))()},gn=function(t){return mn(fn().mark((function e(){var n,r,o,a;return fn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=j.getUserData()){e.next=3;break}throw new Error("User belum login");case 3:if(t!==n.username){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,y("/api/account",{username:t,email:n.email});case 7:r=e.sent,o=j.getToken(),a=j.getRefreshToken(),j.saveAuthData({token:o,refreshToken:a,user:hn(hn({},n),{},{username:r.username})});case 11:case"end":return e.stop()}}),e)})))()},yn=function(t){return mn(fn().mark((function e(){var n,r,o,a,i,s;return fn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.name,o=t.experience,e.next=3,(0,cn.D0)();case 3:return a=e.sent,i=null===(n=a[0])||void 0===n?void 0:n.id,s={id:i,name:r,experience:o},e.next=8,(0,cn.X1)(s);case 8:case"end":return e.stop()}}),e)})))()};function wn(t){return wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wn(t)}function bn(){bn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==wn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(wn(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function En(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function kn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){En(a,r,o,i,s,"next",t)}function s(t){En(a,r,o,i,s,"throw",t)}i(void 0)}))}}const xn={init:function(t){var e=this;return kn(bn().mark((function n(){var r;return bn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.view=t,n.prev=1,n.next=4,j.getCurrentUser();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.warn("Gagal update user data dari API:",n.t0);case 9:return n.next=11,vn();case 11:r=n.sent,t.showProfile(r),e._setupEventListeners();case 14:case"end":return n.stop()}}),n,null,[[1,6]])})))()},_setupEventListeners:function(){var t=this,e=document.getElementById("saveProfileBtn");console.log("saveBtn:",e),e?e.addEventListener("click",(function(){return t._handleSaveProfile()})):console.error("Tombol simpan tidak ditemukan di DOM!")},_handleSaveProfile:function(){return kn(bn().mark((function t(){var e,n,r,o;return bn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Klik simpan terdeteksi"),e=document.getElementById("fullNameInput").value.trim(),n=document.getElementById("usernameInput").value.trim(),r=document.querySelectorAll('input[name="experience"]'),o="",r.forEach((function(t){t.checked&&(o=t.value)})),console.log({fullName:e,username:n,experience:o}),t.prev=7,console.log("Memulai updateUsername"),t.next=11,gn(n);case 11:return console.log("updateUsername selesai"),console.log("Memulai saveSetupData"),t.next=15,yn({name:e,experience:o});case 15:console.log("saveSetupData selesai"),Swal.fire({icon:"success",title:"Berhasil",text:"Profil berhasil disimpan!",showConfirmButton:!1,timer:3e3}),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(7),console.error("Error:",t.t0),Swal.fire({icon:"error",title:"Gagal menyimpan profil",text:t.t0.message,showConfirmButton:!1,timer:3e3});case 23:case"end":return t.stop()}}),t,null,[[7,19]])})))()}};function Sn(t){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sn(t)}function Pn(){Pn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Sn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Sn(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function jn(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Tn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){jn(a,r,o,i,s,"next",t)}function s(t){jn(a,r,o,i,s,"throw",t)}i(void 0)}))}}function On(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,An(r.key),r)}}function An(t){var e=function(t){if("object"!=Sn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Sn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Sn(e)?e:e+""}var _n=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"render",value:(r=Tn(Pn().mark((function t(){var e,n,r;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("user_name")||"User",n=e.charAt(0).toUpperCase(),r=new pt({currentPath:window.location.hash.slice(1),userInitial:n,showProfile:!0}),t.abrupt("return",'\n      <div class="profile-page-container">\n        '.concat(r.render(),'\n\n        <div class="profile-container">\n          <aside class="profile-sidebar">\n            <div class="sidebar-avatar">\n              <img src="images/avatar.jpg" alt="Avatar" class="avatar" id="sidebarAvatar"/>\n              <p id="sidebarUsername">Username User</p>\n              <p id="sidebarExperience">Experience Level</p>\n              <button class="sidebar-button">Profile Pengguna</button>\n            </div>\n          </aside>\n\n          <main>\n            <section class="container-profile">\n              <h1>Profile Pengguna</h1>\n              <hr />\n              <div class="profile-avatar-wrapper">\n                <div class="avatar-left">\n                  <img src="images/avatar.jpg" alt="Avatar" id="avatarPreview" class="avatar"/>\n                </div>\n                <div class="edit-right">\n                  <button id="editAvatarBtn">Edit Photo</button>\n                  <p class="avatar-note">Format harus berupa gambar. Tidak boleh lebih dari 2MB.</p>\n                </div>\n              </div>\n\n              <div class="profile-info">\n                <div class="input-group">\n                  <label for="fullNameInput">Nama Lengkap:</label>\n                  <input type="text" id="fullNameInput" placeholder="Enter your full name" />\n                </div>\n\n                <div class="input-group">\n                  <label for="usernameInput">Username:</label>\n                  <input type="text" id="usernameInput" placeholder="Enter your username" />\n                </div>\n              </div>\n\n              <div class="profile-experience">\n                <label>Select your farming experience level:</label>\n                <div class="experience-options">\n                  <label><input type="radio" name="experience" value="Beginner" /> Beginner</label>\n                  <label><input type="radio" name="experience" value="Intermediate" /> Intermediate</label>\n                  <label><input type="radio" name="experience" value="Experienced" /> Experienced</label>\n                </div>\n              </div>\n\n              <input type="file" id="avatarInput" accept="image/*" capture="environment" style="display:none"/>\n\n              <div class="profile-save-btn-wrapper" style="margin-top: 20px;">\n                <button id="saveProfileBtn" class="btn btn-primary">Edit Profile</button>\n              </div>\n            </section>\n          </main>\n        </div>\n\n        <footer class="profile-footer">\n          <p>&copy; 2025 AgriEdu. All rights reserved.</p>\n        </footer>\n      </div>\n    '));case 4:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(n=Tn(Pn().mark((function t(){var e,n,r;return Pn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setupNavigationEvents(),e=document.getElementById("editAvatarBtn"),n=document.getElementById("avatarInput"),r=document.getElementById("avatarPreview"),e&&n&&r&&(e.addEventListener("click",(function(){n.click()})),n.addEventListener("change",(function(){var t=n.files[0];if(t){var e=new FileReader;e.onload=function(t){r.src=t.target.result;var e=document.getElementById("sidebarAvatar");e&&(e.src=t.target.result)},e.readAsDataURL(t)}}))),xn.init(this);case 6:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"setupNavigationEvents",value:function(){var t=(localStorage.getItem("user_name")||"User").charAt(0).toUpperCase();new pt({currentPath:window.location.hash.slice(1),userInitial:t,showProfile:!0}).bindEvents()}},{key:"showProfile",value:function(t){var e=t.avatar,n=t.fullName,r=t.username,o=t.experience,a=document.getElementById("fullNameInput"),i=document.getElementById("usernameInput");if(a&&(a.value=n||""),i&&(i.value=r||""),o){var s=document.querySelector('input[name="experience"][value="'.concat(o,'"]'));s&&(s.checked=!0)}if(e){var c=document.getElementById("avatarPreview");c&&(c.src=e);var u=document.getElementById("sidebarAvatar");u&&(u.src=e)}var l=document.getElementById("sidebarUsername"),h=document.getElementById("sidebarExperience");l&&(l.textContent=r||"Username User"),h&&(h.textContent=o||"Experience Level")}}],e&&On(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function Cn(t){return Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cn(t)}function In(){In=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Cn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Cn(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Ln(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nn(r.key),r)}}function Nn(t){var e=function(t){if("object"!=Cn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Cn(e)?e:e+""}var Fn=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=e,this.cameraStream=null,this.isCaptured=!1,this.texts=[{title:"Diagnosa Cepat dan Akurat",desc:"Gunakan teknologi AI kami untuk mendiagnosis penyakit tanaman hanya dari sebuah foto. Proses cepat, hasil akurat, dan saran penanganan langsung tersedia."},{title:"Komunitas Petani Digital",desc:"Bergabunglah dalam komunitas petani online kami! Bertukar pengalaman, berbagi solusi, dan dapatkan dukungan dari sesama petani di seluruh Indonesia."},{title:"Belajar Bertani Lebih Cerdas",desc:"Akses modul interaktif dan artikel edukatif tentang pertanian modern, mulai dari hidroponik, irigasi tetes, hingga manajemen hama ramah lingkungan."},{title:"Manfaat Pupuk Organik",desc:"Tahukah kamu? Penggunaan pupuk organik secara rutin bisa meningkatkan kesuburan tanah, memperbaiki struktur tanah, dan mendukung ekosistem mikroba alami."},{title:"Merawat Tanaman dengan Konsisten",desc:"Tanaman yang tumbuh sehat berasal dari perawatan harian yang konsistenpenyiraman tepat waktu, pemupukan seimbang, dan pencahayaan yang cukup."},{title:"Waspadai Cuaca dan Serangan Hama",desc:"Perubahan cuaca ekstrem bisa memperbesar risiko serangan hama dan penyakit. Pantau prakiraan cuaca dan ikuti tips pencegahan hama dari ahli kami."}]},e=[{key:"getUserInitial",value:function(){return(localStorage.getItem("user_name")||"User").charAt(0).toUpperCase()}},{key:"startCarousel",value:function(){this.view.setupCarousel(this.texts)}},{key:"bindNavbarEvents",value:function(t,e){this.view.bindNavigationEvents(t,e)}},{key:"initFormSubmit",value:function(){var t=this,e=this.view.getElements().form;e.addEventListener("submit",(function(n){n.preventDefault();var r=new FormData(e).get("image");r&&0!==r.size?(console.log("Kirim gambar ke API (placeholder):",r),t.view.showMessage("Gambar berhasil dikirim untuk dianalisis!")):t.view.showMessage("Gambar tanaman belum dipilih!")}))}},{key:"initCamera",value:function(){var t=this,e=this.view.getElements();e.showCameraBtn.addEventListener("click",(function(){e.cameraSection.style.display="block",e.showCameraBtn.style.display="none",navigator.mediaDevices.enumerateDevices().then((function(n){var r=n.filter((function(t){return"videoinput"===t.kind}));e.cameraSelect.innerHTML="",r.forEach((function(t,n){var r=document.createElement("option");r.value=t.deviceId,r.textContent=t.label||"Kamera ".concat(n+1),e.cameraSelect.appendChild(r)})),t.startCamera(e)})).catch((function(t){return console.warn("Gagal mendapatkan perangkat:",t)}))})),e.cameraSelect.addEventListener("change",(function(){return t.startCamera(e)})),e.stopCamera.addEventListener("click",(function(){t.stopCamera(e),e.cameraSection.style.display="none",e.showCameraBtn.style.display="inline-block"})),e.capturePhoto.addEventListener("click",(function(){if(!t.isCaptured){var n=e.capturedCanvas.getContext("2d");e.capturedCanvas.width=e.cameraStream.videoWidth,e.capturedCanvas.height=e.cameraStream.videoHeight,n.drawImage(e.cameraStream,0,0,e.capturedCanvas.width,e.capturedCanvas.height),e.capturedCanvas.toBlob((function(t){var n=new File([t],"captured.png",{type:"image/png"}),r=new DataTransfer;r.items.add(n),e.photoInput.files=r.files})),t.stopCamera(e),e.capturedCanvas.style.display="block",e.cameraStream.style.display="none",e.capturePhoto.style.display="none",e.retakePhoto.style.display="inline-block",e.stopCamera.style.display="none",t.isCaptured=!0}})),e.retakePhoto.addEventListener("click",(function(){t.startCamera(e),e.cameraStream.style.display="block",e.capturedCanvas.style.display="none",e.capturePhoto.style.display="inline-block",e.retakePhoto.style.display="none",t.isCaptured=!1})),document.addEventListener("visibilitychange",(function(){var e=t.view.getElements();"hidden"===document.visibilityState?t.cameraStream&&(t.wasCameraOn=!0,t.stopCamera(e),e.cameraSection.style.display="none",e.showCameraBtn.style.display="inline-block"):"visible"===document.visibilityState&&t.wasCameraOn&&(e.cameraSection.style.display="block",e.showCameraBtn.style.display="none",t.startCamera(e),t.wasCameraOn=!1)})),window.addEventListener("popstate",(function(){t.stopCamera(t.view.getElements())})),window.addEventListener("beforeunload",(function(){t.stopCamera(t.view.getElements())}))}},{key:"startCamera",value:(n=In().mark((function t(e){var n;return In().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.stopCamera(e),t.prev=1,n=e.cameraSelect.value,t.next=5,navigator.mediaDevices.getUserMedia({video:!n||{deviceId:{exact:n}}});case 5:this.cameraStream=t.sent,e.cameraStream.srcObject=this.cameraStream,e.cameraStream.style.display="block",e.capturedCanvas.style.display="none",e.retakePhoto.style.display="none",e.capturePhoto.style.display="inline-block",e.stopCamera.style.display="inline-block",this.isCaptured=!1,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),this.view.showMessage("Tidak bisa mengakses kamera: "+t.t0.message);case 18:case"end":return t.stop()}}),t,this,[[1,15]])})),r=function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function i(t){Ln(a,r,o,i,s,"next",t)}function s(t){Ln(a,r,o,i,s,"throw",t)}i(void 0)}))},function(t){return r.apply(this,arguments)})},{key:"stopCamera",value:function(t){this.cameraStream&&(this.cameraStream.getTracks().forEach((function(t){return t.stop()})),this.cameraStream=null,t.cameraStream.srcObject=null)}}],e&&Bn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function Gn(t){return Gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gn(t)}function Dn(){Dn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Gn(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(Gn(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Mn(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Un(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Mn(a,r,o,i,s,"next",t)}function s(t){Mn(a,r,o,i,s,"throw",t)}i(void 0)}))}}function Rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qn(r.key),r)}}function qn(t){var e=function(t){if("object"!=Gn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Gn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Gn(e)?e:e+""}var Hn=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.presenter=new Fn(this)},e=[{key:"render",value:(r=Un(Dn().mark((function t(){var e,n;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.presenter.getUserInitial(),n=new pt({currentPath:window.location.hash.slice(1),userInitial:e,showProfile:!0}),t.abrupt("return",'\n    <div class="diagnose-page-container">\n      '.concat(n.render(),'\n      \n      <section class="diagnose-hero-carousel" data-aos="fade-down">\n        <div class="carousel-container">\n          <div class="carousel-slide">\n            <img src="images/Galeri1.jpg" alt="Tanaman 1" />\n            <img src="images/Galeri2.jpg" alt="Tanaman 2" />\n            <img src="images/Galeri3.jpg" alt="Tanaman 3" />\n            <img src="images/Galeri4.jpg" alt="Tanaman 4" />\n            <img src="images/Galeri5.jpg" alt="Tanaman 5" />\n            <img src="images/Galeri6.jpg" alt="Tanaman 6" />\n          </div>\n          <div class="carousel-caption">\n            <h2 id="carousel-title">Diagnosa Cepat</h2>\n            <p id="carousel-desc">AI kami membantu mendeteksi penyakit tanaman secara instan!</p>\n          </div>\n        </div>\n      </section>\n\n<section class="diagnose-feature" data-aos="fade-up">\n  <div class="white-container" data-aos="fade-up" data-aos-delay="150">\n  <div class="feature-intro" data-aos="fade-up" data-aos-delay="100">\n    <h2>Cara Kerja Fitur Deteksi Tanaman</h2>\n    <p>Kirim atau ambil gambar tanamanmu, dan biarkan AI kami mendeteksi gejala penyakit secara otomatis. Dapatkan hasil analisis cepat lengkap dengan saran perawatan untuk menjaga tanamanmu tetap sehat.</p>\n  </div>\n    <div class="feature-steps">\n      <div class="step" data-aos="zoom-in" data-aos-delay="100">\n        <img src="logo/Kamera.png" alt="Unggah Gambar" />\n        <h3>Unggah atau Ambil Gambar</h3>\n        <p>Gunakan kamera langsung atau unggah dari galeri untuk mulai proses diagnosis.</p>\n      </div>\n      <div class="step" data-aos="zoom-in" data-aos-delay="200">\n        <img src="logo/Ai.png" alt="Deteksi AI" />\n        <h3>Analisis Otomatis oleh AI</h3>\n        <p>Gambar akan dianalisis oleh AI berbasis model pembelajaran penyakit tanaman.</p>\n      </div>\n      <div class="step" data-aos="zoom-in" data-aos-delay="300">\n        <img src="logo/feedback.png" alt="Hasil Diagnosa" />\n        <h3>Lihat Hasil & Saran</h3>\n        <p>Hasil diagnosis akan muncul lengkap dengan nama penyakit dan saran perawatan awal.</p>\n      </div>\n      <div class="step" data-aos="zoom-in" data-aos-delay="400">\n        <img src="logo/Care.png" alt="Tips Pencegahan" />\n        <h3>Pelajari Cara Mencegah Penyakit</h3>\n        <p>Ketahui langkah-langkah mudah untuk mencegah penyakit tanaman dan menjaga tanaman tetap sehat.</p>\n      </div>\n    </div>\n  </div>\n  <hr/>\n</section>\n\n\n      <section class="diagnose-info" data-aos="fade-up" data-aos-delay="200">\n        <h1 class="diagnose-title">Diagnosis <span class="highlight-green">Tanaman</span></h1>\n        <p class="diagnose-desc">Unggah foto dan lihat hasil analisa dari AI terkait tanaman Anda sekarang!</p>\n        <button class="diagnose-button">Mulai Analisis</button>\n      </section>\n\n      <div class="floating-button-container">\n  <button id="main-fab" class="fab">+</button>\n  <div id="fab-menu" class="fab-menu hidden">\n    <button id="scan-now-btn" class="fab-menu-item">\n  <img src="logo/scan.png" alt="Scan Icon" class="icon-scan" />\n  scan now\n</button>\n\n    <button id="how-to-btn" class="fab-menu-item"> how to scan?</button>\n    <div id="how-to-desc" class="fab-description hidden">\n      <ul>\n        <li>Klik scan now</li>\n        <li>Pilih/ambil gambar tanaman</li>\n        <li>Submit & tunggu hasilnya</li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n    </div>\n\n    <footer class="home-footer">\n      <p>&copy; 2025 AgriEdu. All rights reserved.</p>\n    </footer>\n  '));case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(n=Un(Dn().mark((function t(){var e,n,r,o,a,i,s;return Dn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.presenter.getUserInitial(),n=window.location.hash.slice(1),this.presenter.bindNavbarEvents(n,e),this.presenter.startCarousel(),document.querySelector(".diagnose-button").addEventListener("click",(function(){window.location.hash="/diagnosisForm"})),r=document.getElementById("main-fab"),o=document.getElementById("fab-menu"),a=document.getElementById("how-to-desc"),i=document.getElementById("scan-now-btn"),s=document.getElementById("how-to-btn"),r&&o&&a&&i&&s&&(r.addEventListener("click",(function(){o.classList.toggle("hidden"),a.classList.add("hidden")})),i.addEventListener("click",(function(){window.location.hash="/diagnosisForm"})),s.addEventListener("click",(function(){a.classList.toggle("hidden")}))),"undefined"!=typeof AOS&&AOS.init({duration:800,once:!0});case 13:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"bindNavigationEvents",value:function(t,e){new pt({currentPath:t,userInitial:e,showProfile:!0}).bindEvents()}},{key:"setupCarousel",value:function(t){var e=document.querySelectorAll(".carousel-slide img"),n=document.getElementById("carousel-title"),r=document.getElementById("carousel-desc"),o=0,a=e.length;e.forEach((function(t,e){t.style.opacity=0===e?"1":"0",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.objectFit="cover",t.style.transition="opacity 1.5s ease-in-out"}));var i=function(){n.textContent=t[o].title,r.textContent=t[o].desc};setInterval((function(){e[o].style.opacity="0",e[o=(o+1)%a].style.opacity="1",i()}),5e3),i()}}],e&&Rn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function $n(t){return $n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$n(t)}function zn(){zn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==$n(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError($n(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function Kn(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function Vn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Kn(a,r,o,i,s,"next",t)}function s(t){Kn(a,r,o,i,s,"throw",t)}i(void 0)}))}}function Yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wn(r.key),r)}}function Wn(t){var e=function(t){if("object"!=$n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=$n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==$n(e)?e:e+""}var Jn=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.presenter=new Fn(this)},e=[{key:"render",value:(r=Vn(zn().mark((function t(){var e,n,r;return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=localStorage.getItem("user_name")||"User",n=e.charAt(0).toUpperCase(),r=new pt({currentPath:window.location.hash.slice(1),userInitial:n,showProfile:!0}),t.abrupt("return",'\n    <div class="Diagnosis-page-container">\n      '.concat(r.render(),'\n      <div id="typingAnimation" class="typing-animation"></div>\n\n      <section class="container-form hidden-form">\n        <h1>Diagnosis Tanaman</h1>\n        <hr />\n        <div class="form-preview-wrapper">\n          <form id="diagnosis-form">\n            <div>\n              <label for="image">Unggah Gambar Tanaman</label>\n              <div class="file-camera-wrapper">\n                <div class="input-group">\n                  <input type="file" id="image" name="image" accept="image/*" />\n                  <button type="button" id="showCameraBtn" aria-label="Tampilkan kamera">\n                    <i class="fas fa-camera"></i>\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            <div id="cameraSection" style="display: none;">\n              <label for="cameraSelect">Pilih Kamera</label>\n              <select id="cameraSelect"></select>\n              <video id="cameraStream" autoplay playsinline></video>\n              <canvas id="capturedCanvas" style="display:none;"></canvas>\n              <button type="button" id="capturePhoto">Ambil Foto</button>\n              <button type="button" id="retakePhoto" style="display: none;">Ambil Ulang Foto</button>\n              <button type="button" id="stopCamera">Nonaktifkan Kamera</button>\n            </div>\n\n            <button type="submit">Analisis</button>\n          </form>\n          <div class="preview-result-box">\n            <h2>Preview Gambar</h2>\n            <img id="imagePreview" alt="Preview Gambar Tanaman" style="width: 100%; max-height: 100%; object-fit: contain;" />\n\n            <h2>Hasil Analisis</h2>\n            <div id="analysisResult" class="analysis-placeholder">\n              Hasil analisis akan muncul di sini.\n            </div>\n\n            <button id="reanalyzeBtn" style="display: none; margin-top: 1rem;">Analisis Ulang</button>\n          </div>\n        </div>\n      </section>\n      <div class="floating-button-container">\n  <button id="main-fab" class="fab">+</button>\n  <div id="fab-menu" class="fab-menu hidden">\n    <button id="go-community-btn" class="fab-menu-item">\n      <img src="logo/community.png" alt="Community Icon" class="icon-scan" />\n      go Ask to Community\n    </button>\n        <button id="go-chatbot-btn" class="fab-menu-item" onclick="location.href=\'#/chatbot\'">\n      <img src="logo/chatbot.png" alt="Chatbot Icon" class="icon-scan" />\n      go Ask to Chatbot\n    </button>\n  </div>\n</div>\n\n    </div>\n    '));case 4:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"afterRender",value:(n=Vn(zn().mark((function t(){var e,n,r,o,a,i,s,c,u,l=this;return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=function(){return(r=Vn(zn().mark((function t(){var n,r;return zn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("typingAnimation"),r=document.querySelector(".container-form"),t.next=5,e("Scan tanaman kamu sekarang dan temukan solusi dari masalahnya!",n);case 5:n.style.transition="opacity 0.5s ease",n.style.opacity=0,setTimeout((function(){n.style.display="none",r.classList.remove("hidden-form"),r.classList.add("show-form")}),500);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)},n=function(){return r.apply(this,arguments)},e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;return new Promise((function(r){var o=0;!function a(){o<t.length?(e.textContent+=t.charAt(o),o++,setTimeout(a,n)):setTimeout(r,500)}()}))},this.setupNavigation(),this.presenter.initCamera(),this.presenter.initFormSubmit(),n(),o=this.getElements(),a=o.photoInput,i=o.reanalyzeBtn,s=document.getElementById("imagePreview"),a.addEventListener("change",(function(t){var e=t.target.files[0];if(e){var n=new FileReader;n.onload=function(t){s.src=t.target.result},n.readAsDataURL(e)}})),i.addEventListener("click",(function(){l.resetFormAndAnalysis()})),c=document.getElementById("main-fab"),u=document.getElementById("fab-menu"),c.addEventListener("click",(function(){u.classList.toggle("hidden")})),document.getElementById("go-community-btn").addEventListener("click",(function(){window.location.href="/#/community"}));case 16:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"setupNavigation",value:function(){var t=(localStorage.getItem("user_name")||"User").charAt(0).toUpperCase();new pt({currentPath:window.location.hash.slice(1),userInitial:t,showProfile:!0}).bindEvents()}},{key:"showMessage",value:function(t){Swal.fire({icon:"info",title:"Informasi",text:t,showConfirmButton:!1,timer:3e3})}},{key:"getElements",value:function(){return{form:document.getElementById("diagnosis-form"),photoInput:document.getElementById("image"),showCameraBtn:document.getElementById("showCameraBtn"),cameraSection:document.getElementById("cameraSection"),cameraSelect:document.getElementById("cameraSelect"),cameraStream:document.getElementById("cameraStream"),capturePhoto:document.getElementById("capturePhoto"),retakePhoto:document.getElementById("retakePhoto"),stopCamera:document.getElementById("stopCamera"),capturedCanvas:document.getElementById("capturedCanvas"),reanalyzeBtn:document.getElementById("reanalyzeBtn")}}},{key:"resetFormAndAnalysis",value:function(){var t=document.getElementById("diagnosis-form"),e=document.getElementById("imagePreview"),n=document.getElementById("analysisResult"),r=document.getElementById("reanalyzeBtn");t.reset(),e.src="",n.innerHTML="Hasil analisis akan muncul di sini.",r.style.display="none",this.presenter&&this.presenter.stopCamera&&this.presenter.stopCamera()}}],e&&Yn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function Xn(t){return Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xn(t)}function Zn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qn(r.key),r)}}function Qn(t){var e=function(t){if("object"!=Xn(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=Xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==Xn(e)?e:e+""}const tr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"create",value:function(t){var e=t.to,n=t.text,r=t.className,o=void 0===r?"":r,a=t.id,i=void 0===a?"":a,s=t.onClick,c=void 0===s?null:s,u=document.createElement("a");return u.href="#".concat(e.startsWith("/")?e:"/".concat(e)),u.textContent=n,o&&(u.className=o),i&&(u.id=i),u.addEventListener("click",(function(t){t.ctrlKey||t.metaKey||(t.preventDefault(),window.location.hash=u.getAttribute("href").substring(1),c&&"function"==typeof c&&c(t))})),u}},{key:"updateLinks",value:function(t,e){t.querySelectorAll('a[href^="#"]').forEach((function(t){var n=t.getAttribute("href");"#"===n||n.startsWith("##")||t.classList.contains("scroll-link")||t.getAttribute("data-spa-handler")||(t.setAttribute("data-spa-handler","true"),t.addEventListener("click",(function(t){if(!t.ctrlKey&&!t.metaKey){var r=n.substring(1),o=document.getElementById(r);if(o)t.preventDefault(),"scrollBehavior"in document.documentElement.style?o.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo(0,o.offsetTop);else{t.preventDefault();var a=n.substring(1);e.navigate(a)}}})))}))}}],null&&Zn(t.prototype,null),e&&Zn(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function nr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rr(r.key),r)}}function rr(t){var e=function(t){if("object"!=er(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==er(e)?e:e+""}const or=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"requiresAuth",value:function(t){return["/home","/learning","/chatbot","/community","/form","/account","/profile","/logout"].some((function(e){return t===e||t.startsWith("".concat(e,"/"))}))}},{key:"isAuthenticated",value:function(){return j.isAuthenticated()}},{key:"canActivate",value:function(t){return!this.requiresAuth(t)||this.isAuthenticated()}},{key:"getAuthRedirectPath",value:function(){return"#/login"}}],null&&nr(t.prototype,null),e&&nr(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function ar(t){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ar(t)}function ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sr(r.key),r)}}function sr(t){var e=function(t){if("object"!=ar(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==ar(e)?e:e+""}var cr=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.routes={},this.currentPath="",this.beforeRouteCallback=null,this.afterRouteCallback=null,this.notFoundCallback=null},e=[{key:"registerRoutes",value:function(t){return this.routes=t,this}},{key:"beforeRoute",value:function(t){return this.beforeRouteCallback=t,this}},{key:"afterRoute",value:function(t){return this.afterRouteCallback=t,this}},{key:"setNotFoundCallback",value:function(t){return this.notFoundCallback=t,this}},{key:"start",value:function(){var t=this;return window.addEventListener("hashchange",(function(){t.handleRouteChange()})),this.handleRouteChange(),this}},{key:"handleRouteChange",value:function(){var t=this.getPathFromHash();if(t!==this.currentPath){if(this.currentPath=t,or.requiresAuth(t)&&!or.isAuthenticated())return console.log("Route ".concat(t," requires authentication. Redirecting to login.")),void(window.location.hash=or.getAuthRedirectPath().substring(1));if(!this.beforeRouteCallback||this.beforeRouteCallback(t)){var e=this.routes[t];e?this.afterRouteCallback&&this.afterRouteCallback(t,e):this.notFoundCallback&&this.notFoundCallback(t)}}}},{key:"getPathFromHash",value:function(){return window.location.hash.substring(1).split("?")[0]||"/"}},{key:"navigate",value:function(t){window.location.hash=t}},{key:"scrollToElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&("scrollBehavior"in document.documentElement.style?t.scrollIntoView({behavior:"smooth",block:"start"}):this.smoothScrollPolyfill(t),e&&t.id&&history.pushState(null,null,"#".concat(t.id)))}},{key:"smoothScrollPolyfill",value:function(t){var e=t.getBoundingClientRect().top+window.pageYOffset,n=window.pageYOffset,r=e-n,o=null;requestAnimationFrame((function t(e){null===o&&(o=e);var a,i,s,c=e-o,u=(a=c,i=n,s=r,(a/=250)<1?s/2*a*a+i:-s/2*(--a*(a-2)-1)+i);window.scrollTo(0,u),c<500&&requestAnimationFrame(t)}))}}],e&&ir(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();const ur=cr;function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function hr(){hr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==lr(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(lr(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function dr(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function fr(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){dr(a,r,o,i,s,"next",t)}function s(t){dr(a,r,o,i,s,"throw",t)}i(void 0)}))}}function pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mr(r.key),r)}}function mr(t){var e=function(t){if("object"!=lr(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==lr(e)?e:e+""}const vr=function(){return t=function t(e){var n,r=this,o=e.content,a=e.drawerButton,i=e.navigationDrawer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.content=o,this.drawerButton=a,this.navigationDrawer=i,this.router=new ur,this.router.registerRoutes((n=o,{"/login":new M,"/landing":new Q(n),"/home":new Et,"/logout":new it,"/learning":new qt,"/chatbot":new Qt,"/community":new ke,"/register":new Qe,"/setup":new sn,"/profile":new _n,"/form":new Ue,"/diagnosis":new Hn,"/diagnosisForm":new Jn,"/":{render:function(){return window.location.hash="/landing","<div>Redirecting...</div>"}}})),this.router.beforeRoute((function(t){return console.log("Navigating to:",t),!0})).afterRoute(function(){var t=fr(hr().mark((function t(e,n){return hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.renderPage(n);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()).setNotFoundCallback((function(t){console.error("Page not found: ".concat(t)),r.content.innerHTML='\n          <div class="error-container">\n            <h1>404 - Page Not Found</h1>\n            <p>The page you are looking for does not exist.</p>\n            <a href="#/landing">Go to Home</a>\n          </div>\n        '}))},e=[{key:"init",value:(r=fr(hr().mark((function t(){var e=this;return hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.checkAuthStatus(),this.router.start(),this.drawerButton&&this.navigationDrawer&&this.drawerButton.addEventListener("click",(function(){e.navigationDrawer.classList.toggle("open")}));case 3:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"checkAuthStatus",value:function(){var t=j.isAuthenticated();console.log("Authentication status:",t?"Authenticated":"Not authenticated"),this.updateAuthUI(t)}},{key:"updateAuthUI",value:function(t){var e=document.querySelector('a[href="#/login"]'),n=document.querySelector('a[href="#/logout"]');e&&(e.style.display=t?"none":"block"),n&&(n.style.display=t?"block":"none")}},{key:"renderPage",value:(n=fr(hr().mark((function t(e){var n;return hr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.content||!e){t.next=26;break}return t.prev=1,console.log("Rendering page instance:",e),t.next=5,e.render();case 5:if(n=t.sent,console.log("Rendered content:",n?"Content available":"Content is undefined or empty"),!n){t.next=16;break}if(this.content.innerHTML=n,!e.afterRender){t.next=12;break}return t.next=12,e.afterRender();case 12:tr.updateLinks(this.content,this.router),this.setupInPageNavigation(),t.next=18;break;case 16:console.error("Page render method returned undefined or empty content"),this.content.innerHTML='<div class="error-container"><h2>Error rendering page</h2><p>The page content could not be loaded.</p></div>';case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(1),console.error("Error rendering page:",t.t0),this.content.innerHTML='<div class="error-container"><h2>Error rendering page</h2><p>'.concat(t.t0.message,"</p></div>");case 24:t.next=27;break;case 26:console.error("Content element missing or invalid page instance",{contentExists:!!this.content,pageInstanceExists:!!e});case 27:case"end":return t.stop()}}),t,this,[[1,20]])}))),function(t){return n.apply(this,arguments)})},{key:"setupInPageNavigation",value:function(){console.log("Setting up in-page navigation in App")}}],e&&pr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,r}();function gr(t){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function yr(){yr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(e,n,r,o){var a=n&&n.prototype instanceof d?n:d,i=Object.create(a.prototype);return c(i,"_invoke",function(e,n,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=E(s,r);if(c){if(c===h)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=l(e,n,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(e,r,new S(o||[])),!0),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(P([])));g&&g!==n&&r.call(g,a)&&(m=g);var y=p.prototype=d.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,s){var c=l(t[o],t,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==gr(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(h).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var o;c(this,"_invoke",(function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}),!0)}function E(e,n){var r=n.method,o=e.i[r];if(o===t)return n.delegate=null,"throw"===r&&e.i.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var a=l(o,e.i,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.r]=i.value,n.next=e.n,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function k(t){this.tryEntries.push(t)}function x(e){var n=e[4]||{};n.type="normal",n.arg=t,e[4]=n}function S(t){this.tryEntries=[[-1]],t.forEach(k,this),this.reset(!0)}function P(e){if(null!=e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(gr(e)+" is not iterable")}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),c(p,s,f.displayName="GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},e.awrap=function(t){return{__await:t}},w(b.prototype),c(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(y),c(y,s,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t){i.type="throw",i.arg=e,n.next=t}for(var o=n.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],s=this.prev,c=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!c&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=s){if(s<c)return this.method="next",this.arg=t,r(c),!0;if(s<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;x(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={i:P(e),r:n,n:r},"next"===this.method&&(this.arg=t),h}},e}function wr(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function br(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){wr(a,r,o,i,s,"next",t)}function s(t){wr(a,r,o,i,s,"throw",t)}i(void 0)}))}}window.Swal=e(),document.addEventListener("DOMContentLoaded",br(yr().mark((function t(){var e;return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=new vr({content:document.querySelector("#main-content"),drawerButton:document.querySelector("#drawer-button"),navigationDrawer:document.querySelector("#navigation-drawer")}),t.next=4,e.init();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error initializing app:",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))))})()})();